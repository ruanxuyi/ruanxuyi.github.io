
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>æ¥è‡ªå¨æ–¯æ˜Ÿæ˜Ÿå¤§å­¦çš„ä¸€ä¸ªå°çŒ©çŒ©</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="é˜®å…ˆç”Ÿ">
    

    
    <meta name="description" content="é˜®å…ˆç”Ÿâ€™s blog">
<meta property="og:type" content="website">
<meta property="og:title" content="æ¥è‡ªå¨æ–¯æ˜Ÿæ˜Ÿå¤§å­¦çš„ä¸€ä¸ªå°çŒ©çŒ©">
<meta property="og:url" content="http://www.xuyiruan.com/index.html">
<meta property="og:site_name" content="æ¥è‡ªå¨æ–¯æ˜Ÿæ˜Ÿå¤§å­¦çš„ä¸€ä¸ªå°çŒ©çŒ©">
<meta property="og:description" content="é˜®å…ˆç”Ÿâ€™s blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="æ¥è‡ªå¨æ–¯æ˜Ÿæ˜Ÿå¤§å­¦çš„ä¸€ä¸ªå°çŒ©çŒ©">
<meta name="twitter:description" content="é˜®å…ˆç”Ÿâ€™s blog">


    
    <link rel="alternative" href="/atom.xml" title="æ¥è‡ªå¨æ–¯æ˜Ÿæ˜Ÿå¤§å­¦çš„ä¸€ä¸ªå°çŒ©çŒ©" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/logo.png">
    
    
    <link rel="apple-touch-icon" href="/img/sushi.png">
    <link rel="apple-touch-icon-precomposed" href="/img/sushi.png">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">

</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/sushi.png" alt="æ¥è‡ªå¨æ–¯æ˜Ÿæ˜Ÿå¤§å­¦çš„ä¸€ä¸ªå°çŒ©çŒ©" title="æ¥è‡ªå¨æ–¯æ˜Ÿæ˜Ÿå¤§å­¦çš„ä¸€ä¸ªå°çŒ©çŒ©"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="æ¥è‡ªå¨æ–¯æ˜Ÿæ˜Ÿå¤§å­¦çš„ä¸€ä¸ªå°çŒ©çŒ©">æ¥è‡ªå¨æ–¯æ˜Ÿæ˜Ÿå¤§å­¦çš„ä¸€ä¸ªå°çŒ©çŒ©</a></h1>
				<h2 class="blog-motto">æ²‰ä¸‹å¿ƒ å¤šè¯»ä¹¦ å¤šæ€è€ƒ å°‘åƒQQ å¤šç¡è§‰</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="èœå•">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/tags">Tags</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="æœç´¢" />
						<input type="hidden" name="q" value="site:www.xuyiruan.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/08/29/talk_about_life/" title="æµ…è°ˆäººç”Ÿ (Talk about life)" itemprop="url">æµ…è°ˆäººç”Ÿ (Talk about life)</a>
  </h1>
  <p class="article-author">By
       
		<a href="http://www.xuyiruan.com/about" title="é˜®å…ˆç”Ÿ" target="_blank" itemprop="author">é˜®å…ˆç”Ÿ</a>
		
  <p class="article-time">
    <time datetime="2015-08-29T05:52:43.000Z" itemprop="datePublished"> å‘è¡¨äº 08-29-2015</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="æµ…è°ˆäººç”Ÿ_(Talk_about_life)"><strong>æµ…è°ˆäººç”Ÿ (Talk about life)</strong></h1><p><img src="http://7xihzu.com1.z0.glb.clouddn.com/badger.jpg" alt="æ‘„äºæµ·å—ä¸‰äºš" style="width: 600px;"></p>
<p>å¤§åŠå¤œçš„ä½ è¿˜ä¸ç¡è§‰ä½ åœ¨å¹²ä»€ä¹ˆï¼å“ˆå“ˆå“ˆã€‚éš¾å¾—ä»Šå¤©è¿™ä¹ˆæœ‰ç²¾ç¥ï¼Œå¤–é¢ä¸‹ç€å°é›¨ï¼Œè¿˜ä¼´ç€ç”µé—ªé›·é¸£ï¼Œéº¦è¿ªé€Šçš„å†¬å¤©å¼€å§‹æ‚„æ‚„çš„ç¦»å»ã€‚</p>
<h3 id="å¤§å­¦å·²ç»è¿‡äº†ä¸‰å¹´ï¼š"><strong>å¤§å­¦å·²ç»è¿‡äº†ä¸‰å¹´ï¼š</strong></h3><p>å¯¹äº†ï¼Œä½ è¿˜æ²¡è¯´ä½ è¿™ä¹ˆæ™šåœ¨å¹²ä»€ä¹ˆï¼è¯´èµ·æ¥ä¹Ÿæƒ­æ„§ï¼Œå¤§å­¦ä¸‰å¹´äº†ï¼Œå®Œå…¨æ²¡æœ‰ä»”ç»†æƒ³è¿‡å½“åˆä¸ºä»€ä¹ˆè‡ªå·±é€‰æ‹©äº†è®¡ç®—æœºå·¥ç¨‹(Computer Engineering)ï¼Œè™½ç„¶çˆ¶æ¯ç£ä¿ƒæˆ‘å·¥ç¨‹å¤ªç´¯äº†ï¼Œé€‰ä¸ªåˆ«çš„å§ã€‚æˆ‘æ¯…ç„¶åšå®šçš„é€‰æ‹©äº†è®¡ç®—æœºå·¥ç¨‹(å½“æ—¶çš„æˆ‘ä¸€åº¦ä»¥ä¸ºè®¡ç®—æœºå·¥ç¨‹å°±æ˜¯å¸®åˆ«äººä¿®ä¿®ç”µè„‘ğŸ™ˆ)ã€‚å¤§äºŒçš„æ—¶å€™ï¼Œå¬è¯´è®¡ç®—æœºå·¥ç¨‹çš„å­¦ç”Ÿåªè¦å¤šä¿®ä¸¤é—¨è¯¾å°±èƒ½æ‹¿åˆ°è®¡ç®—æœºç§‘å­¦(Computer Science)çš„åŒå­¦ä½ï¼Œæˆ‘ä¸€å¼€å§‹è¿˜ä¸å¤ªç›¸ä¿¡ï¼Œåæ¥ä¸€çœ‹çœŸæ˜¯è¿™ä¹ˆç®€å•ã€‚ä¹Ÿæ²¡å¤šæƒ³ï¼Œæ„Ÿè§‰åŒå­¦ä½æ¯•ä¸šğŸ“ï¼Œæ¯•ä¸šå·¥ä½œä¹Ÿç¨³ç¨³çš„äº†ã€‚</p>
<p>ç°åœ¨å›æƒ³èµ·æ¥ï¼Œå½“æ—¶çœŸçš„æ˜¯not too young, but still too naive!ç”±äºå·¥ç¨‹çš„è¯¾ç¨‹éš¾åº¦æœ¬èº«å°±ä¸ç®€å•ï¼Œç°åœ¨åˆè¦åŠ ä¸ŠCSçš„è¯¾ç¨‹ï¼Œç®€ç›´å°±æ˜¯åƒå¤§é”…é¥­ä¸€æ ·ï¼Œå·¦å³ä¸å¯å…¼å¾—ã€‚è™½ç„¶GPAä¿æŒçš„è¿˜ç®—å‡‘æ´»ï¼Œå¯æ˜¯æˆ‘å­¦çš„å¾ˆä¸å¼€å¿ƒå‘€ï¼å®Œå…¨æ²¡æœ‰ä¸€ç‚¹æ–¹å‘æ„Ÿï¼Œæ„Ÿè§‰æ¯å¤©å°±æ˜¯æ´»åœ¨æ¸Šæºä¸æ–­ä½œä¸šçš„é‡Œï¼Œç¾å‘³çš„QQåƒçš„éƒ½ä¸å¼€å¿ƒäº†ã€‚</p>
<h3 id="æ‹›è˜ä¼šï¼š"><strong>æ‹›è˜ä¼šï¼š</strong></h3><p>å¤§ä¸‰è¿™å¹´å»äº†å¤§å¤§å°å°çš„æ‹›è˜ä¼šï¼Œè™½ç„¶è‡ªå·±çš„ç®€å†å¹¶è¯´ä¸ä¸Šå¤ªä¼˜ç§€ï¼Œå¯æ˜¯è‡³å°‘æˆ‘çš„Resumeçš„å„æ–¹é¢(GPA, Course projects)è¿˜æ˜¯æ‹¿çš„å‡ºæ‰‹çš„ï¼Œå†è¯´äº†ï¼Œå“¥æ€ä¹ˆä¹Ÿæ˜¯å‡†å¤‡æœ¬ç§‘åŒå­¦ä½çš„äºº(ğŸ¶)ã€‚å…¬å¸æ²¡ç†ç”±åœ¨ç¬¬ä¸€è½®åˆ·æ‰æˆ‘å§ã€‚è·Ÿæˆ‘æƒ³çš„ä¸€æ ·ï¼Œå¤§å®¶(ä»€ä¹ˆAmazon, Microsoftå‘€)éƒ½è§‰å¾—æˆ‘æŒºä¸é”™çš„ï¼Œå¼€å§‹è”ç³»æˆ‘ï¼Œè¿›è¡ŒæŠ€æœ¯é¢è¯•ã€‚æˆ‘æ˜¯æ¡åŒå­¦ä½çš„ç‹—ï¼Œinterviewerçœ‹æˆ‘æŒºé˜³å…‰å¼€æœ—çš„ï¼Œå°ä¼™å­ä¸é”™ï¼Œæ¥ï¼Œç»™ä½ å‡ºä¸ªç®€å•çš„reverse linked listçš„é¢˜ã€‚ç»“æœæˆ‘è¿˜æ˜¯å†ä¸‰çš„æç¤ºä¸‹æ‰å‹‰å¼ºå†™äº†å‡ºæ¥ã€‚</p>
<p>è¿™æ ·ä¸‹å»å¯çœŸä¸æ˜¯åŠæ³•ï¼Œéš¾é“å¤§å­¦å››å¹´çœŸçš„è¦ç™½å¿™æ´»äº†ï¼Ÿå¤§ä¸‰ç»“æŸäº†è¿ä¸€ä¸ªinternshipéƒ½æä¸åˆ°ï¼Œè¿˜æƒ³æ€ä¹ˆåœ¨ç¾åˆ©åšå¤§å›½æ··ä¸‹å»ï¼æˆ‘å¿…é¡»åœ¨å·¥ç¨‹å’ŒCSä¸¤è¾¹åšä¸ªæŠ‰æ‹©ã€‚</p>
<h3 id="æ— æ³•æŠ‰æ‹©ï¼š"><strong>æ— æ³•æŠ‰æ‹©ï¼š</strong></h3><p>ä»Šå¤©æ™šä¸Šæ˜¯å†å²æ€§çš„ä¸€åˆ»ã€‚ä¸€ç›´æ— æ³•å‰²èˆè‡ªå·±ç™½å­¦äº†ä¸‰å¹´Engineeringè¯¾ç¨‹çš„å‡è±¡ï¼Œè§‰å¾—å¦‚æœå°±è¿™ä¹ˆæ”¾å¼ƒäº†Engineering, å¥½ä¸ç”˜å¿ƒï¼google Computer Scienceç„¶ååˆè·ŸComputer Engineering æœ‰å…³çš„æ–¹å‘ã€‚ç„¶åèµ°ç«å…¥é­”çš„æ‰¾åˆ°äº†Computer Architecture. å‘ç°UW-Madison ä½ç€å¥½å‡ åªArchitectureä¸–ç•Œçº§çš„å¤§ç¥çº§äººç‰©(David Wood, Mark Hill, etc)ï¼Œç„¶ååˆå¼€å§‹æ–°ä¸€è½®ç–¯ç‹‚çš„googleæœ‰å…³Architectureçš„èµ„æ–™ï¼Œè¿˜ä¸“é—¨å»ºäº†ä¸ªæ–‡ä»¶å¤¹ï¼Œæ”¾äº†å¥½å¤šèµ„æ–™ï¼Œå‡†å¤‡æœ€åä¸€å¹´å¤§å¹²ä¸€åœºã€‚(Naive!)</p>
<p>çœ‹çœ‹è¡¨ï¼Œä¸¤ç‚¹äº†ï¼Œè™½ç„¶è¿˜æ˜¯æ²¡æœ‰æœ€åå®šä¸‹äººç”Ÿçš„ç›®æ ‡ï¼Œèµ¶ç´§åˆ·ç‰™æ´—æ´—ç¡äº†ã€‚å¯è¿™äº‹æ²¡å®šä¸‹æ¥ï¼Œå†…å¿ƒä¸å®‰å•Šã€‚è™½ç„¶computer architectureå¯ä»¥è¯´æ˜¯CSå’ŒCEçš„ç»“åˆåŒºåŸŸã€‚å¯æ˜¯æˆ‘çœŸçš„å–œæ¬¢å—ï¼Ÿæˆ‘çœŸçš„æ“…é•¿è¿™æ–¹é¢çš„ç»†èŠ‚çš„ç ”ç©¶å—ï¼Ÿå°±å½“æˆ‘å…¨ç¥è´¯æ³¨åœ°åœ¨æ€è€ƒè®¡ç®—æœºæœ‰å…³é¢†åŸŸæˆ‘åˆ°åº•åº”è¯¥å¾€å“ªèµ°çš„ä¸€ç¬é—´ï¼Œå®è´å¥³å‹èµ°è¿›äº†æˆ‘çš„è„‘æµ·é‡Œï¼Œç»™æˆ‘æŒ‡æ˜äº†äººç”Ÿçš„æ–¹å‘ã€‚æˆ‘å®šä¸‹äº†äººç”Ÿçš„ç¬¬ä¸€ä¸ªå‹‡æ•¢çš„ç›®æ ‡ï¼šè½¯ä»¶ã€‚</p>
<h3 id="çˆ±æƒ…çš„åŠ›é‡ï¼š"><strong>çˆ±æƒ…çš„åŠ›é‡ï¼š</strong></h3><p>å¥³å‹æ˜¯åšæ•™è‚²æ–¹é¢çš„ï¼Œè¿™ä¸€åˆ»çœ‹èµ·æ¥ï¼Œå¥¹å˜æˆäº†æˆ‘äººç”Ÿçš„å¯¼å¸ˆã€‚æ”¾å¼ƒç¡¬ä»¶çš„è·¯ï¼Œå‹‡æ•¢çš„é€‰æ‹©è½¯ä»¶ï¼ç½‘é¡µæ–¹å‘ï¼Œæ˜¯æœ‰åŸå› çš„ã€‚é¦–å…ˆæˆ‘è§‰å¾—è‡ªå·±è¿˜æ˜¯æ›´å–œæ¬¢æ¥è§¦æ–°é²œçš„äº‹ç‰©ï¼Œæ›´äº«å—å®Œæˆä¸€ä¸ªå°å‹é¡¹ç›®/ç¨‹åºçš„é‚£ç§å–œæ‚¦æ„Ÿã€‚å¦å¤–å¦‚æœæˆ‘é€‰æ‹©ç¡¬ä»¶ï¼Œæ„Ÿè§‰ä»¥åå’Œå¥³å‹çš„connectå°±è¶Šæ¥è¶Šå°‘ã€‚ç›¸åå¦‚æœæˆ‘é€‰æ‹©è½¯ä»¶æ–¹é¢ä½œä¸ºèŒä¸šç›®æ ‡ï¼Œå¯ä»¥æŠŠè‡ªå·±å¤§å­¦å­¦è¿‡çš„csæœ‰å…³çš„å†…å®¹çœŸæ­£ç”¨åˆ°ï¼Œè·Ÿè‡ªå·±äººç”Ÿçš„å¦ä¸€åŠçš„ç»“åˆã€‚å¥³å‹ä¸€ç›´æœ‰å¾ˆå¤šå¾ˆæ£’çš„ç‚¹å­ğŸ’¡ï¼Œå¥¹æä¾›çµæ„Ÿï¼Œæˆ‘ç”¨æŠ€æœ¯å¸®å¥¹å®ç°ï¼Œä¸€ä¸‹å­äººç”Ÿå¥½åƒå……èµ·äº†æ»¡æ»¡çš„å¸Œæœ›ã€‚</p>
<p>å½“ç„¶ï¼ŒEngineering çš„è¯¾ç¨‹è¿˜æ˜¯è¦å¥½å¥½çš„ä¸Šçš„ï¼ŒCSé€‰è¯¾çš„æ—¶å€™å°±æ›´æ˜ç™½è¿™é—¨è¯¾å¯¹è‡ªå·±çš„ç†æƒ³ï¼ç›®æ ‡ä¼šæœ‰å¤šå°‘çš„æ”¯æŒã€‚æ—¶é—´åˆ†é…ä¸Šï¼Œè¦å¯¹è‡ªå·±çš„ç†æƒ³å’Œç›®æ ‡ä¸Šåˆ†é…æ›´å¤šçš„æ—¶é—´ã€‚äººç”Ÿä¸€ä¸–ï¼Œæ—¢ç„¶æ²¡åŠæ³•åšå¥½æ‰€æœ‰çš„äº‹æƒ…ï¼Œé‚£å°±æƒ³åŠæ³•åŠªåŠ›å®Œæˆä¸€ä¸ªç›®æ ‡ã€‚</p>
<h3 id="2015å¹´4æœˆ9æ—¥å‡Œæ™¨2ç‚¹35-_å®šä¸‹äººç”Ÿç›®æ ‡ï¼š"><strong>2015å¹´4æœˆ9æ—¥å‡Œæ™¨2ç‚¹35. å®šä¸‹äººç”Ÿç›®æ ‡ï¼š</strong></h3><p><img src="http://7xihzu.com1.z0.glb.clouddn.com/plan.jpg" alt="myPlan" style="width: 600px;"></p>
<h3 id="åé¢çš„è·¯ï¼Œä¸ä¼šä¸€å¸†é£é¡ºï¼Œä½†æˆ‘å¹¶ä¸å®³æ€•ï¼Œå› ä¸ºæœ‰äº†ç›®æ ‡ï¼Œæœ‰äº†ä½ ï¼Œæˆ‘å°±çŸ¥é“è¯¥å¾€å“ªèµ°ï¼Œæˆ‘ä»¬çš„èˆ¹è¿˜èƒ½ç»§ç»­å‰è¡Œã€‚">åé¢çš„è·¯ï¼Œä¸ä¼šä¸€å¸†é£é¡ºï¼Œä½†æˆ‘å¹¶ä¸å®³æ€•ï¼Œå› ä¸ºæœ‰äº†ç›®æ ‡ï¼Œæœ‰äº†ä½ ï¼Œæˆ‘å°±çŸ¥é“è¯¥å¾€å“ªèµ°ï¼Œæˆ‘ä»¬çš„èˆ¹è¿˜èƒ½ç»§ç»­å‰è¡Œã€‚</h3><p>P.S. æ˜å¤©ResSprot Webmasteré¢è¯•,å±•ç°ä¸ä¸€æ ·çš„ä½ ã€‚</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/ç”Ÿæ´»/">ç”Ÿæ´»</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/æ‚æ–‡/">æ‚æ–‡</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/08/29/talk_about_life/#comments" class="ds-thread-count comments-count-link" data-thread-key="2015/08/29/talk_about_life/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/08/29/sniffencrption_2/" title="Configure Encrption (WPA2/PSK) on Recon(sniff.py) Project Part2" itemprop="url">Configure Encrption (WPA2/PSK) on Recon(sniff.py) Project Part2</a>
  </h1>
  <p class="article-author">By
       
		<a href="http://www.xuyiruan.com/about" title="é˜®å…ˆç”Ÿ" target="_blank" itemprop="author">é˜®å…ˆç”Ÿ</a>
		
  <p class="article-time">
    <time datetime="2015-08-29T05:52:43.000Z" itemprop="datePublished"> å‘è¡¨äº 08-29-2015</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="List_of_files:"><strong>List of files:</strong></h2><h3 id="server_side:">server side:</h3><p><code>dbapi_recon.py</code> - manage the format of the POST<br><code>dbapi_tool.py</code> - take command line from terminal and put parameters into a JSON package  </p>
<h3 id="router_side:">router side:</h3><p><code>sniff.py</code> - receive pacakge from dbapi_server, and extracts the parameters (ssid, chan, pw, etc.)<br><code>iw.py</code> - the file actual set up necessary configuration for a wireless network, and run commnad through command line and startHostapd to create AP. </p>
<p>inside <code>sniff.py</code>, add folloiwng:</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">pw = modeData.<span class="function"><span class="title">get</span><span class="params">(<span class="string">'password'</span>, None)</span></span></span><br><span class="line">....</span><br><span class="line">res = iw.<span class="function"><span class="title">startHostapd</span><span class="params">(<span class="string">'wlan0'</span>, ssid, chan, pw)</span></span></span><br></pre></td></tr></table></figure>
<h2 id="Diagram:"><strong>Diagram:</strong></h2><p><code>dbapi_tool</code> â€”- send JSON message to â€”&gt; <code>dbapi server</code> &lt;â€”-receive/send JSON packageâ€”â€”&gt; <code>sniff.py</code>  </p>
<p>package: JSON object.  </p>
<p><code>moni1</code> - interface to monitor wifi traffic:</p>
<pre><code><span class="tag">Interface</span> <span class="tag">moni1</span>
    <span class="tag">ifindex</span> 9361
    <span class="tag">wdev</span> 0<span class="tag">x100002490</span>
    <span class="tag">addr</span> 04<span class="pseudo">:f0</span><span class="pseudo">:21</span><span class="pseudo">:10</span><span class="pseudo">:c0</span><span class="pseudo">:d8</span>
    <span class="tag">type</span> <span class="tag">monitor</span>
</code></pre><h2 id="Useful_commands:"><strong>Useful commands: </strong></h2><pre><code>python services/pddb<span class="class">.py</span> -f whois -<span class="tag">a</span> halo32
</code></pre><p>Output indicates which group belong to:</p>
<pre><code>Calling whois((&lt;services.pdsql.PDSql instance at <span class="number">0x45b4d40</span>&gt;, <span class="string">'halo32'</span>))
-- <span class="string">AP:</span> halo32 (<span class="string">WN855702 :</span>: f2ff1c8d-bec8-<span class="number">4</span>a08-aedc-ab72861fa694) <span class="string">IP:</span> <span class="number">10.6</span><span class="number">.0</span><span class="number">.206</span> <span class="string">LOC:</span> WiNGS Lab, Madison WI
<span class="label"> OWNER:</span> <span class="string">CS :</span> test (<span class="number">9520</span>f0c5-b884-<span class="number">11e4</span>-a360-<span class="number">00265511043</span>e) <span class="string">GROUP:</span> Test
<span class="label"> RECON:</span> <span class="string">rid:</span> <span class="number">40</span>, <span class="string">reconid:</span> <span class="number">10</span>, <span class="string">GROUP:</span> Test
</code></pre><p>show the difference of the modification: </p>
<pre><code><span class="title">svn</span> diff dbapi/dbapi_recon.py
</code></pre><h2 id="Thought_Process:"><strong>Thought Process:</strong></h2><p>Modify code on <code>xuyi@paradrop.wings.wisc.edu</code>  </p>
<p>inside <code>/home/xuyi/paradrop/trunk/recon/dbapi_tool.py</code> add password option in</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">createWifi</span><span class="params">(dbh, baseUrl, token, group, ssid, chan, pw)</span>:</span></span><br><span class="line">    <span class="string">"""</span><br><span class="line">        Creates a wifi network on the group APs provided.</span><br><span class="line">        Arguments:</span><br><span class="line">            @ssid : The SSID to set each device to</span><br><span class="line">            @chan : The channel, can be string like '36+1' for HT40+</span><br><span class="line">            @pw : The password for Wi-Fi</span><br><span class="line">    """</span></span><br><span class="line">    url = <span class="string">'%s/wifi/%s/create'</span> % (baseUrl, urlEncodeMe(group, <span class="string">""</span>))</span><br><span class="line">    out.info(<span class="string">'-- %s Creating WiFi: %s\n'</span> % (logPrefix(), url))</span><br><span class="line"></span><br><span class="line">    msg = &#123;<span class="string">"sessionToken"</span>:token&#125;</span><br><span class="line">    msg[<span class="string">'ssid'</span>] = ssid</span><br><span class="line">    msg[<span class="string">'channel'</span>] = chan	</span><br><span class="line">    msg[<span class="string">'pw'</span>] = pw</span><br><span class="line">    </span><br><span class="line">    res = pdweb.post(url, json2str(msg), <span class="keyword">None</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">not</span> pdweb.isOK(res)):</span><br><span class="line">        out.warn(<span class="string">'** Failed: %s\n'</span> % str(res))</span><br><span class="line">        exit()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        out.info(<span class="string">'-- %s\n'</span> % pdweb.data(res))</span><br></pre></td></tr></table></figure>
<p>Run command with <code>dbapi_tool</code> to tell the <code>sniff.py</code> in router to setup a AP with password</p>
<pre><code>python recon/dbapi_tool<span class="class">.py</span> -g Test -f createWifi -<span class="tag">a</span> testRXY -<span class="tag">a</span> <span class="number">36</span> -<span class="tag">a</span> paradroprocks
</code></pre><p>send JSON package (ssid, chan, pw) through dbapi server to sniff.py inside halo32.   </p>
<p>Output from  <code>iw dev wlan0 scan</code> for <code>halo32</code> without password</p>
<pre><code>BSS <span class="number">04</span>:<span class="string">f0:</span><span class="number">21</span>:<span class="number">10</span>:<span class="string">c0:</span>d8(on wlan0)
<span class="label">    TSF:</span> <span class="number">234855172</span> usec (<span class="number">0</span>d, <span class="number">00</span>:<span class="number">03</span>:<span class="number">54</span>)
<span class="label">    freq:</span> <span class="number">5180</span>
    beacon <span class="string">interval:</span> <span class="number">100</span> TUs
<span class="label">    capability:</span> ESS (<span class="number">0x0001</span>)
<span class="label">    signal:</span> -<span class="number">38.00</span> dBm
    last <span class="string">seen:</span> <span class="number">1052</span> ms ago
    Information elements from Probe Response <span class="string">frame:</span>
<span class="label">    SSID:</span> testRXY40
    Supported <span class="string">rates:</span> <span class="number">6.0</span>* <span class="number">9.0</span> <span class="number">12.0</span>* <span class="number">18.0</span> <span class="number">24.0</span>* <span class="number">36.0</span> <span class="number">48.0</span> <span class="number">54.0</span> 
    DS Parameter <span class="string">set:</span> channel <span class="number">36</span>
    Extended <span class="string">capabilities:</span> <span class="number">6</span>
</code></pre><p><strong>Problems:  </strong>  </p>
<ol>
<li><p>does not have encryption - inside halo32<br> change code </p>
 <figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">pw = modeData.<span class="function"><span class="title">get</span><span class="params">(<span class="string">'password'</span>, None)</span></span></span><br></pre></td></tr></table></figure>
<p> to </p>
 <figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">pw = modeData.<span class="function"><span class="title">get</span><span class="params">(<span class="string">'pw'</span>, None)</span></span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>One more thing that struggle me so long:  </strong><br>since you modify the sniff.py code, you might restart the sniff program to reflect the update on sniff!!  </p>
<p>What I found so far: Password lost either when packed or when received.  </p>
<p><strong>Message in queue:</strong><br>peek message in queue on the dbapi server: </p>
<pre><code>curl <span class="string">http:</span><span class="comment">//paradrop.wings.cs.wisc.edu:10330/v1/recon/peek/Test</span>
</code></pre><p>indicate that password was not packed into the JSON package.</p>
<pre><code>f<span class="number">2</span>ff<span class="number">1</span>c<span class="number">8</span>d-bec<span class="number">8</span><span class="number">-4</span>a<span class="number">08</span>-aedc-ab<span class="number">72861</span>fa<span class="number">694</span> :  <span class="number">40</span> : {<span class="string">"data"</span>:{<span class="string">"ssid"</span>:<span class="string">"test40"</span>,<span class="string">"channel"</span>:<span class="number">36</span>},<span class="string">"mode"</span>:<span class="string">"__WIFI_CREATE"</span>} <span class="comment">(1 seconds old)</span>
</code></pre><ol>
<li><p>SSID name not correct. </p>
</li>
<li><p>if no password indicate, will the AP create sucessfully.</p>
</li>
</ol>
<p>POST and GET</p>
<p>Also need to change file in <code>~/paradrop/trunk/recon/dbapi/dbapi_recon.py</code></p>
<p><strong>question</strong>: will JSON package sent <code>None</code> in string or None?<br>one <code>pw = modeData.get(&#39;pw&#39;, None)</code> will <code>pw</code> get <code>None</code> or string(None)</p>
<p>that does not matter, since code in <code>if(len(pw) &lt; 8):</code> will catch it and turn it into <code>None</code>.<br>As to answer the question: yes, the pw will remain the value <code>None</code></p>
<h2 id="Current_modified_files:"><strong>Current modified files: </strong></h2><h3 id="server_side:-1">server side:</h3><p><code>dbapi_recon.py</code> @ <code>~/paradrop/trunk/recon/dbapi/dbapi_recon.py</code> manage the format of POST.</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">def POST_wifiCreate(self, request, groupid):</span><br><span class="line">    <span class="keyword">...</span></span><br><span class="line">    <span class="comment"># check for format</span></span><br><span class="line">    token, ssid, chan, pw = pdutils.explode(body, <span class="string">"sessionToken"</span>, <span class="string">"ssid"</span>, <span class="string">"channel"</span>, <span class="string">"pw"</span>)</span><br><span class="line">    <span class="keyword">...</span></span><br><span class="line">    <span class="comment"># create wifi without password if not in correct format</span></span><br><span class="line">    <span class="keyword">if</span>(pw is not None):</span><br><span class="line">        <span class="keyword">if</span>(len(pw) &lt; <span class="number">8</span>):</span><br><span class="line">            out.err(<span class="string">"!!%s Password at least 8 characters!\n"</span> % logPrefix(ip))</span><br><span class="line">            pw = None</span><br><span class="line">    <span class="comment"># Add a message for each ap</span></span><br><span class="line">    <span class="keyword">...</span></span><br><span class="line">    self.pollResponder.addMessage(ap, sniffconfig.setConfig(sniffconfig.WIFI_CREATE, ssid=s, channel=chan, pw=pw), lambda x: x)</span><br><span class="line">    <span class="keyword">...</span></span><br></pre></td></tr></table></figure>
<p><code>dbapi_tool.py</code> @ <code>/home/xuyi/paradrop/trunk/recon/dbapi_tool.py</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">createWifi</span><span class="params">(dbh, baseUrl, token, group, ssid, chan, pw=None)</span>:</span></span><br><span class="line">    ...</span><br><span class="line">    msg[<span class="string">'pw'</span>] = pw</span><br></pre></td></tr></table></figure>
<h3 id="router_side:-1">router side:</h3><p><code>iw.py</code> @ <code>lib/internal/utils/iw.py</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">startHostapd</span><span class="params">(iface, ssid, channel, key=None)</span>:</span></span><br><span class="line"> ...</span><br><span class="line"> <span class="comment"># set up WPA2 encryption</span></span><br><span class="line">    <span class="keyword">if</span>(key <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>):</span><br><span class="line">        wpa=<span class="number">3</span></span><br><span class="line">        mode=<span class="string">'WPA-PSK'</span></span><br><span class="line">        wpa_pw = <span class="string">'TKIP CCMP'</span></span><br><span class="line">        rsn_pw = <span class="string">'CCMP'</span></span><br><span class="line">        opts.append(<span class="string">'wpa=%s'</span> % wpa)</span><br><span class="line">        opts.append(<span class="string">'wpa_passphrase=%s'</span> % key)</span><br><span class="line">        opts.append(<span class="string">'wpa_key_mgmt=%s'</span> % mode)</span><br><span class="line">        opts.append(<span class="string">'wpa_pairwise=%s'</span> % wpa_pw)</span><br><span class="line">        opts.append(<span class="string">'rsn_pairwise=%s'</span> % rsn_pw)</span><br></pre></td></tr></table></figure>
<p><code>sniff.py</code> @ <code>root/recon/sniff.py</code></p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">def _modeCreateSSID(self, modeData, completed):</span><br><span class="line">    <span class="keyword">...</span></span><br><span class="line">    pw = modeData.get(<span class="string">'pw'</span>, None)</span><br><span class="line">    <span class="keyword">...</span></span><br><span class="line">    res = iw.startHostapd(<span class="string">'wlan0'</span>, ssid, chan, pw)</span><br></pre></td></tr></table></figure>
<h2 id="Commit_the_changes:"><strong>Commit the changes:</strong></h2><h3 id="push_updates_to_server:">push updates to server:</h3><p>1.Check the status of all files:</p>
<pre><code><span class="title">svn</span> status
</code></pre><p>Outputs:</p>
<pre><code>xuyi<span class="variable">@paradrop</span><span class="symbol">:~/paradrop/trunk</span><span class="variable">$ </span>svn status
?       envsetup.sh
<span class="constant">M </span>      recon/dbapi_tool.py
<span class="constant">M </span>      dbapi/dbapi_recon.py
</code></pre><p>2.commit and push: </p>
<pre><code>svn <span class="keyword">ci</span> -<span class="keyword">m</span> <span class="string">"XR: added password support to SSID startup"</span>
</code></pre><p>Outputs: </p>
<pre><code>xuyi<span class="variable">@paradrop</span><span class="symbol">:~/paradrop/trunk</span><span class="variable">$ </span>svn ci -m <span class="string">"Xuyi: added password support to SSID startup"</span>
<span class="constant">Sending </span>       trunk/dbapi/dbapi_recon.py
<span class="constant">Sending </span>       trunk/recon/dbapi_tool.py
<span class="constant">Transmitting </span>file data ..
<span class="constant">Committed </span>revision <span class="number">1585</span>.
</code></pre><h2 id="TODO:"><strong>TODO:</strong></h2><ol>
<li>Push the change from router</li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/work/">work</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/paradrop/">paradrop</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/08/29/sniffencrption_2/#comments" class="ds-thread-count comments-count-link" data-thread-key="2015/08/29/sniffencrption_2/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/08/29/sniffencrption/" title="Configure Encrption (WPA2/PSK) on Recon(sniff.py) Project" itemprop="url">Configure Encrption (WPA2/PSK) on Recon(sniff.py) Project</a>
  </h1>
  <p class="article-author">By
       
		<a href="http://www.xuyiruan.com/about" title="é˜®å…ˆç”Ÿ" target="_blank" itemprop="author">é˜®å…ˆç”Ÿ</a>
		
  <p class="article-time">
    <time datetime="2015-08-29T05:52:43.000Z" itemprop="datePublished"> å‘è¡¨äº 08-29-2015</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="Configure_Encrption_(WPA2/PSK)_on_Recon(sniff-py)">Configure Encrption (WPA2/PSK) on Recon(sniff.py)</h2><p><img src="http://7xihzu.com1.z0.glb.clouddn.com/sniffs.IMG_1793.jpg" alt="MySummerResearch" style="width:600px;"></p>
<h3 id="Useful_info:">Useful info:</h3><p><strong>connect to the paradrop server: </strong>  </p>
<pre><code>ssh pd@paradrop<span class="class">.wings</span><span class="class">.cs</span><span class="class">.wisc</span><span class="class">.edu</span>
</code></pre><p>IMPORTANT: once the paradrop system(router) hock up into the internet, it automatically VPN to the paradrop server, which parapdrop server can get access to all the haloxxx routers that are onlined.</p>
<p><strong>List all network interfaces for wireless hardware:</strong>  </p>
<pre><code><span class="title">iw</span> dev
</code></pre><p>Outputs:</p>
<pre><code><span class="tag">phy</span><span class="id">#1</span>
<span class="tag">Interface</span> <span class="tag">moni1</span>
    <span class="tag">ifindex</span> 4481
    <span class="tag">wdev</span> 0<span class="tag">x100001180</span>
    <span class="tag">addr</span> 04<span class="pseudo">:f0</span><span class="pseudo">:21</span><span class="pseudo">:10</span><span class="pseudo">:c0</span><span class="pseudo">:d8</span>
    <span class="tag">type</span> <span class="tag">monitor</span>
<span class="tag">Interface</span> <span class="tag">wlan0</span>
    <span class="tag">ifindex</span> 4439
    <span class="tag">wdev</span> 0<span class="tag">x100001156</span>
    <span class="tag">addr</span> 04<span class="pseudo">:f0</span><span class="pseudo">:21</span><span class="pseudo">:10</span><span class="pseudo">:c0</span><span class="pseudo">:d8</span>
    <span class="tag">ssid</span> <span class="tag">testRS</span>
    <span class="tag">type</span> <span class="tag">AP</span>
    <span class="tag">channel</span> 36 (5180 <span class="tag">MHz</span>), <span class="tag">width</span>: 20 <span class="tag">MHz</span> (<span class="tag">no</span> <span class="tag">HT</span>), <span class="tag">center1</span>: 5180 <span class="tag">MHz</span>
</code></pre><p><strong>Configure a network interface:</strong>  </p>
<pre><code>ifconfig
</code></pre><p><strong>Scan all the SSIDs within nearby:</strong>  </p>
<pre><code>iw <span class="built_in">dev</span> wlan0 <span class="built_in">scan</span>
</code></pre><h3 id="Connect_to_the_router:">Connect to the router:</h3><ol>
<li>SSID: ParadropXX</li>
<li>Password: paradroprocks</li>
</ol>
<h3 id="Ssh_into_the_paradrop_router:">Ssh into the paradrop router:</h3><pre><code><span class="title">ssh</span> root<span class="variable">@halo32</span>   
</code></pre><p>passowrd: 699.tmp<br>public ip: 216.26.112.63</p>
<h3 id="Create_shoot_through_front_end_page-">Create <code>shoot</code> through front end page.</h3><ol>
<li><code>ifconfig br-lan</code> </li>
<li>get <code>inet addr:</code> for example: <code>192.168.60.1</code></li>
<li>open browswer go to  <code>192.168.60.1</code></li>
<li>set up an <code>app</code> as <code>recon</code></li>
</ol>
<h3 id="Log_into_the_shoot">Log into the <code>shoot</code></h3><ul>
<li>run command line check:  <pre><code>python etc/pd/lib/internal/fc/chutestorage.py -ls </code></pre></li>
<li>output from terminal:</li>
</ul>
<figure class="highlight cs"><table><tr><td class="code"><pre><span class="line">lxc:<span class="number">64</span>c22813-ab61-<span class="number">4</span>c87-<span class="number">9</span>ff6-cac4a03b690f</span><br><span class="line">  state:    running</span><br><span class="line">  <span class="keyword">struct</span>:   &#123;<span class="string">'net'</span>: &#123;<span class="string">'wan'</span>: &#123;<span class="string">'type'</span>: <span class="string">'wan'</span>, <span class="string">'intfName'</span>: <span class="string">'eth0'</span>, <span class="string">'ipaddr'</span>: <span class="string">'10.100.10.1'</span>, <span class="string">'netmask'</span>: <span class="string">'255.255.255.0'</span>&#125;, <span class="string">'passthroughInterfaces'</span>: [], <span class="string">'wlanPassthrough'</span>: <span class="string">'True'</span>, <span class="string">'radioid'</span>: <span class="number">1</span>&#125;, <span class="string">'disk'</span>: &#123;<span class="string">'size'</span>: <span class="number">123456</span>&#125;, <span class="string">'cmds'</span>: &#123;<span class="string">'firewall'</span>: &#123;<span class="string">'post'</span>: [<span class="string">'iptables -t nat -I PREROUTING -i tun0 -p tcp -m tcp --dport 6555 -j DNAT --to-destination 10.100.10.1:22'</span>, <span class="string">'iptables -I FORWARD -i tun0 -s 10.6.0.0/24 -d 10.100.10.1 -j ACCEPT'</span>, <span class="string">'iptables -I FORWARD -o tun0 -s 10.100.10.1 -d 10.6.0.0/24 -j ACCEPT'</span>]&#125;&#125;&#125;</span><br><span class="line">  runtime:  [&#123;<span class="string">'program'</span>: <span class="string">'echo'</span>, <span class="string">'name'</span>: <span class="string">'sniff args'</span>, <span class="string">'args'</span>: <span class="string">'python /root/recon/sniff.py -i moni1 -t 5 --phy phy1 &gt; /root/sniff_args'</span>&#125;, &#123;<span class="string">'program'</span>: <span class="string">'bash /root/recon/sniff_start.sh'</span>, <span class="string">'name'</span>: <span class="string">'startSniff'</span>, <span class="string">'args'</span>: <span class="string">''</span>&#125;, &#123;<span class="string">'cron'</span>: <span class="string">'*/1 * * * *'</span>, <span class="string">'program'</span>: <span class="string">'bash /root/recon/sniff_start.sh'</span>, <span class="string">'name'</span>: <span class="string">'Check sniff is running'</span>, <span class="string">'args'</span>: <span class="string">''</span>&#125;]</span><br><span class="line">  traffic:  []</span><br><span class="line">  resource: &#123;<span class="string">'lan'</span>: &#123;<span class="string">'down'</span>: <span class="number">25000</span>, <span class="string">'up'</span>: <span class="number">25000</span>&#125;, <span class="string">'cpu'</span>: <span class="string">'@resource.cpu.MAX'</span>, <span class="string">'memory'</span>: <span class="string">'@resource.memory.MAX'</span>&#125;</span><br><span class="line">  files:  [&#123;<span class="string">'path'</span>: <span class="string">'/root'</span>, <span class="string">'sha1'</span>: <span class="string">'None'</span>, <span class="string">'todo'</span>: <span class="string">'EXTRACT'</span>, <span class="string">'name'</span>: <span class="string">'sniff'</span>, <span class="string">'location'</span>: <span class="string">'@paradrop.server(sniff/sniff.tar.gz)'</span>&#125;]</span><br><span class="line">  radioid:  <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>Userful Infomation:<br><strong>UUID</strong> - 64c22813-ab61-4c87-9ff6-cac4a03b690f<br><strong>ipaddr</strong> - 10.100.10.1 &lt;- this is the address for the shoot(app) you just created. ssh into it.</p>
<pre><code><span class="title">ssh</span> root@<span class="number">10.100.10.1</span>
</code></pre><p>User/Pass: root  </p>
<h3 id="Check_if_sniff_is_still_running:">Check if sniff is still running:</h3><pre><code>screen -<span class="keyword">ls</span>
</code></pre><p>output from terminal:</p>
<pre><code>There are screens on:
    <span class="number">53</span><span class="class">.sniff</span>    (Detached)
    <span class="number">28</span><span class="class">.lxcserver</span>    (Detached)
<span class="number">2</span> Sockets <span class="keyword">in</span> /tmp/screens/S-root.
</code></pre><h3 id="Stop_stiff:">Stop stiff:</h3><pre><code>bash /root/recon/sniff_disable<span class="class">.sh</span>
bash /root/recon/sniff_kill<span class="class">.sh</span> 
</code></pre><p>check if stiff stop:</p>
<pre><code>screen -<span class="keyword">ls</span>
</code></pre><p>output from terminal:</p>
<pre><code>There is <span class="tag">a</span> screen on:
    <span class="number">28</span><span class="class">.lxcserver</span>    (Detached)
<span class="number">1</span> Socket <span class="keyword">in</span> /tmp/screens/S-root. 
</code></pre><h3 id="Restart_stiff:">Restart stiff:</h3><pre><code>bash <span class="regexp">/root/</span>recon<span class="regexp">/sniff_restart.sh</span>
</code></pre><p><code>screen -ls</code> output from terminal:</p>
<pre><code>There are screens on:
    <span class="number">782</span><span class="class">.sniff</span>   (Detached)
    <span class="number">28</span><span class="class">.lxcserver</span>    (Detached)
<span class="number">2</span> Sockets <span class="keyword">in</span> /tmp/screens/S-root.
</code></pre><h3 id="Goals:">Goals:</h3><p>now I am inside the shoot, I need to use <code>sniff</code> to run <code>hostapd</code> to create a new access point for the app, so that the SSID created should be encrypted in (WPA2/PSK).   </p>
<p><strong>BackGround Info:</strong><br><em>Recon</em>:  Recon is the project name for the retail analytics that we are doing. Our initial deployment is in the UW Bookstore on state street.</p>
<p><a href="http://wirelessathome.wings.cs.wisc.edu/redmine/projects/paradrop/wiki/Recon" target="_blank" rel="external">http://wirelessathome.wings.cs.wisc.edu/redmine/projects/paradrop/wiki/Recon</a></p>
<p><em>Sniff</em>: </p>
<h4 id="Vim_up/down/left/right_and_delete_issues:">Vim up/down/left/right and delete issues:</h4><p>vim $HOME/.vimrc, add following lines into the file:</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> backspace=<span class="number">2</span> <span class="string">" make backspace work like most other apps</span><br><span class="line"></span><span class="keyword">set</span> nocompatible "must <span class="keyword">be</span> <span class="keyword">first</span> <span class="built_in">line</span></span><br></pre></td></tr></table></figure>
<p>Sample $HOME/.vimrc file:</p>
<figure class="highlight stata"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> nocompatible " must be the first <span class="keyword">line</span></span><br><span class="line">filetype <span class="keyword">on</span></span><br><span class="line">filetype indent <span class="keyword">on</span></span><br><span class="line">filetype <span class="keyword">plugin</span> <span class="keyword">on</span></span><br><span class="line"><span class="keyword">syntax</span> <span class="keyword">on</span></span><br><span class="line"><span class="keyword">set</span> laststatus=2</span><br><span class="line"><span class="keyword">set</span> statusline=%&lt;%f\%<span class="keyword">h</span>%<span class="keyword">m</span>%r%=%-20.(<span class="keyword">line</span>=%<span class="keyword">l</span>\ \ col=%c%V\ \ totlin=%<span class="keyword">L</span>%)\ \ \%<span class="keyword">h</span>%<span class="keyword">m</span>%r%=   %-40(bytval=0x%B,%<span class="keyword">n</span>%Y%)\%P</span><br><span class="line"><span class="keyword">set</span> ofu=syntaxcomplete#Complete</span><br><span class="line"><span class="keyword">set</span> backspace=2 " make backspace work like most other apps</span><br></pre></td></tr></table></figure>
<p><strong><code>_modeCreateSSID</code> inside  <code>trunk/recon/app/sniff.py</code></strong>  </p>
<ol>
<li>insdie the <code>_modeCreateSSID</code>, calling lots of functions inside the <code>iw</code> library to set up configuration. </li>
<li>res = iw.startHostapd(â€˜wlan0â€™, ssid, chan)</li>
</ol>
<p><strong><code>startHostapd</code> inside <code>trunk/lib/internal/utils/iw.py</code></strong>  </p>
<ol>
<li>create a <code>hostapd.conf</code> file with infomaiton from the parameters (iface, ssid, channel).    </li>
<li>start the hostAPD service that create AP with <code>hostapd.conf</code> @<code>tmp/hostapd.conf</code> configuration.</li>
</ol>
<p><strong> WPA/PSK: </strong><br>For WPA-PSK,<br>either <strong>wpa_psk</strong> or wpa_passphrase must be set and <strong>wpa_key_mgmt</strong> must include <strong>WPA-PSK</strong>. Instead of wpa_psk / wpa_passphrase, wpa_psk_radius might suffice.</p>
<p><strong>add below information: </strong><br>wpa_passphrase=parashootrocks<br>wpa_key_mgmt=WPA-PSK<br>wpa=2</p>
<pre><code><span class="function"><span class="keyword">def</span> <span class="title">startHostapd</span><span class="params">(iface, ssid, channel, key, mode, wpa=<span class="number">2</span>)</span>:</span>
    .....
    opts.append(<span class="string">'wpa=%s'</span> % wpa)
    opts.append(<span class="string">'wpa_passphrase=%s'</span> % key)
    opts.append(<span class="string">'wpa_key_mgmt=%s'</span> % mode)
</code></pre><p>Question to solve:<br><strong>1. encrption seems not setting up probabaly  </strong>  </p>
<pre><code>~ # hostapd -B /tmp/hostapd.conf
Configuration <span class="keyword">file</span>: /tmp/hostapd.conf
Line <span class="number">5</span>: Invalid PSK <span class="string">'paradroprocks'</span>.
<span class="number">1</span> errors found <span class="keyword">in</span> configuration <span class="keyword">file</span> <span class="string">'/tmp/hostapd.conf'</span>
Failed <span class="keyword">to</span> <span class="keyword">set</span> up <span class="keyword">interface</span> <span class="keyword">with</span> /tmp/hostapd.conf
Failed <span class="keyword">to</span> initialize <span class="keyword">interface</span>
</code></pre><ul>
<li>did not enable wpa in the first place, inside config file <code>wpa=3</code> will fix.  </li>
</ul>
<p><strong>2. how to set up wlan0 in side the shoot</strong>  </p>
<ul>
<li>correctly start up with <code>startAP.py</code> will fix.  </li>
</ul>
<p><strong>3. the <code>self._phy</code> </strong>  </p>
<ul>
<li>it is just the index for physical connection (phy1, phy0, etc)  </li>
</ul>
<p>TODO:  </p>
<ol>
<li><del>read through <code>_modeCreateSSID</code> on <code>sniff.py</code></del>  </li>
<li><del>read through <code>.config</code> file, see where encrption comes in</del>   </li>
<li><del>useful files to read: <code>trunk/recon/app/sniff.py</code>, <code>hostapd.conf</code>, and <code>trunk/lib/internal/utils/iw.py</code></del>   </li>
<li><del>write <code>startAP.py</code> file to test the <code>hostapd</code> funcion, if AP comes up without encrption first.</del>  </li>
<li><del>update <code>startAP.py</code> to make encrption enable</del>  </li>
<li>~~fix the error for <strong>hostapd v2.2</strong> ~~</li>
</ol>
<p><strong>How to configure WPA:  </strong><br>inside <code>lib/internal/utils/iw.py</code>:  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">startHostapd</span><span class="params">(iface, ssid, channel, key, mode, wpa=<span class="number">2</span>)</span>:</span></span><br><span class="line">    ..... <span class="comment"># `wpa = 2` indicates WPA2 encrption</span></span><br><span class="line">    opts.append(<span class="string">'wpa_passphrase=%s'</span> % key)</span><br><span class="line">    opts.append(<span class="string">'wpa_key_mgmt=%s'</span> % mode)</span><br></pre></td></tr></table></figure>
<p><code>startAP.py</code> </p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">import <span class="tag">time</span></span><br><span class="line">from lib<span class="class">.internal</span><span class="class">.utils</span> import iw</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">'Start setting AP connection: '</span>)</span></span></span><br><span class="line">iw.<span class="function"><span class="title">getIwDevList</span><span class="params">()</span></span></span><br><span class="line">iw.<span class="function"><span class="title">createDev</span><span class="params">(<span class="string">'phy1'</span>, <span class="string">'wlan0'</span>, <span class="string">'__ap'</span>)</span></span></span><br><span class="line">iw.<span class="function"><span class="title">setDevIP</span><span class="params">(<span class="string">'wlan0'</span>, <span class="string">'10.200.200.1'</span>)</span></span></span><br><span class="line">iw.<span class="function"><span class="title">bringUp</span><span class="params">(<span class="string">'wlan0'</span>)</span></span></span><br><span class="line">iw.<span class="function"><span class="title">killallDnsmasq</span><span class="params">()</span></span></span><br><span class="line">iw.<span class="function"><span class="title">startDnsmasq</span><span class="params">(<span class="string">'recon'</span>, <span class="string">'wlan0'</span>, <span class="string">'10.200.200.1'</span>, <span class="string">'10.200.200.10'</span>, <span class="string">'10.200.200.100'</span>)</span></span></span><br><span class="line">iw.<span class="function"><span class="title">enableNAT</span><span class="params">(<span class="string">'wlan0'</span>, <span class="string">'eth0'</span>, <span class="string">'10.200.200.1'</span>)</span></span></span><br><span class="line">iw.<span class="function"><span class="title">startHostapd</span><span class="params">(<span class="string">'wlan0'</span>, <span class="string">'testRS'</span>, <span class="string">'36'</span>, <span class="string">'paradroprocks'</span>, <span class="string">'WPA-PSK'</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">'Success!'</span>)</span></span></span><br><span class="line">while True:</span><br><span class="line">    <span class="tag">time</span>.<span class="function"><span class="title">sleep</span><span class="params">(<span class="number">1</span>)</span></span></span><br></pre></td></tr></table></figure>
<p><code>stopAP.py</code>:</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">import <span class="tag">time</span></span><br><span class="line">from lib<span class="class">.internal</span><span class="class">.utils</span> import iw</span><br><span class="line">from lib<span class="class">.paradrop</span> import out</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">'Start Deleting AP'</span>)</span></span></span><br><span class="line">res = iw.<span class="function"><span class="title">disableNAT</span><span class="params">(<span class="string">'wlan0'</span>, <span class="string">'eth0'</span>, <span class="string">'10.200.200.1'</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(res)</span></span>:</span><br><span class="line">    <span class="function"><span class="title">print</span><span class="params">(<span class="string">'err@disableNAT'</span>)</span></span></span><br><span class="line"></span><br><span class="line">res = iw.<span class="function"><span class="title">killHostapd</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(res)</span></span>:</span><br><span class="line">    out.<span class="function"><span class="title">err</span><span class="params">(<span class="string">'!! %s Unable to kill hostapd: %s\n'</span> % (logPrefix()</span></span>, <span class="function"><span class="title">str</span><span class="params">(res)</span></span>))</span><br><span class="line"></span><br><span class="line">res = iw.<span class="function"><span class="title">killallDnsmasq</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(res)</span></span>:</span><br><span class="line">    <span class="function"><span class="title">print</span><span class="params">(<span class="string">'err@killallDnsmasq'</span>)</span></span></span><br><span class="line"></span><br><span class="line">res = iw.<span class="function"><span class="title">startDefaultDnsmasq</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(res)</span></span>:</span><br><span class="line">    out.<span class="function"><span class="title">err</span><span class="params">(<span class="string">'!! %s Unable to start dnsmasq: %s\n'</span> % (logPrefix()</span></span>, <span class="function"><span class="title">str</span><span class="params">(res)</span></span>))</span><br><span class="line"></span><br><span class="line">res = iw.<span class="function"><span class="title">deleteDev</span><span class="params">(<span class="string">'wlan0'</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(res)</span></span>:</span><br><span class="line">    <span class="function"><span class="title">print</span><span class="params">(<span class="string">'err@deleteDev'</span>)</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">'Success deleting AP'</span>)</span></span></span><br></pre></td></tr></table></figure>
<p><code>iw.getIwDevList()</code> - extract necessary value of info. (<code>ifindex</code>, <code>wdev</code>, <code>addr</code>, <code>type</code>) into <code>ret</code>, which is a return value. inside the <code>sniff.py</code> <code>iw.getiwDevList</code> simplely Check if wlan0 already exists. checking method</p>
<p><code>iw.createDev(&#39;phy1&#39;, &#39;wlan0&#39;, &#39;__ap&#39;)</code> - create <code>wlan0</code> which has a AP type</p>
<p><code>iw.setDevIP(&#39;wlan0&#39;, &#39;10.200.200.1&#39;)</code> - set up ip, mask for <code>wlan0</code></p>
<p><code>iw.bringUp(&#39;wlan0&#39;)</code> -  use <code>ifconfig</code> to bring up <code>wlan0</code></p>
<p><code>iw.killallDnsmasq()</code> - reset DNS </p>
<p><code>iw.startDnsmasq(&#39;recon&#39;, &#39;wlan0&#39;, &#39;10.200.200.1&#39;, &#39;10.200.200.10&#39;, &#39;10.200.200.100&#39;)</code> - set up dns with parameter</p>
<p><code>iw.enableNAT(&#39;wlan0&#39;, &#39;eth0&#39;, &#39;10.200.200.1&#39;)</code> - setup NAT</p>
<p><strong>Issues for hostapd v2.2:  </strong>  </p>
<pre><code>Configuration <span class="keyword">file</span>: /tmp/hostapd.conf
nl80211: Could <span class="keyword">not</span> configure driver mode
nl80211 driver <span class="keyword">initialization</span> failed.
</code></pre><p>Just fixed: SSID can not start probably because I did not destroy the <code>wlan0</code> probably, now use scripts <code>stopAP.py</code>.<br>it works pefect. (inside <code>sniff.py</code> file, method <code>_modeDestroySSID</code> does the same thing.)</p>
<p><strong>Final review on steps to set encrption on sniff</strong>  </p>
<ol>
<li>inside <code>sniff.py</code>, modify the line for <code>iw.startHostapd</code> to specific key to add:</li>
</ol>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">&lt;pre&gt;&lt;code&gt;iw.<span class="function"><span class="title">startHostapd</span><span class="params">(<span class="string">'wlan0'</span>, <span class="string">'testRS'</span>, <span class="string">'36'</span>, <span class="string">'paradroprocks'</span>)</span></span>&lt;/code&gt;&lt;/pre&gt;</span><br></pre></td></tr></table></figure>
<ol>
<li>inside <code>iw.py</code>, modeify the indterface for <code>startHostapd</code> to enable WPA2 encryption.</li>
</ol>
<figure class="highlight processing"><table><tr><td class="code"><pre><span class="line">&lt;pre&gt;&lt;code&gt;</span><br><span class="line">def startHostapd(iface, ssid, channel, <span class="variable">key</span>, wpa=<span class="number">3</span>, mode=<span class="string">'WPA-PSK'</span>):</span><br><span class="line">    ....</span><br><span class="line">    </span><br><span class="line">    # <span class="built_in">set</span> up WPA2 encryption</span><br><span class="line">    wpa_pw = <span class="string">'TKIP CCMP'</span></span><br><span class="line">    rsn_pw = <span class="string">'CCMP'</span></span><br><span class="line">    opts.<span class="built_in">append</span>(<span class="string">'wpa=%s'</span> % wpa)</span><br><span class="line">    opts.<span class="built_in">append</span>(<span class="string">'wpa_passphrase=%s'</span> % <span class="variable">key</span>)</span><br><span class="line">    opts.<span class="built_in">append</span>(<span class="string">'wpa_key_mgmt=%s'</span> % mode)</span><br><span class="line">    opts.<span class="built_in">append</span>(<span class="string">'wpa_pairwise=%s'</span> % wpa_pw)</span><br><span class="line">    opts.<span class="built_in">append</span>(<span class="string">'rsn_pairwise=%s'</span> % rsn_pw)</span><br><span class="line">&lt;/code&gt;&lt;/pre&gt;</span><br></pre></td></tr></table></figure>
<ol>
<li>test files: <code>startAP.py</code> and <code>stopAP.py</code></li>
</ol>
<p>P.S. All of these babes are going to install in Union South next week!!</p>
<p><img src="http://7xihzu.com1.z0.glb.clouddn.com/sniffs.IMG_1832.JPG" alt="MySummerResearch" style="width:600px;"></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/work/">work</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/paradrop/">paradrop</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/08/29/sniffencrption/#comments" class="ds-thread-count comments-count-link" data-thread-key="2015/08/29/sniffencrption/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/08/29/serverApConfig/" title="Store AP config in dbapi server" itemprop="url">Store AP config in dbapi server</a>
  </h1>
  <p class="article-author">By
       
		<a href="http://www.xuyiruan.com/about" title="é˜®å…ˆç”Ÿ" target="_blank" itemprop="author">é˜®å…ˆç”Ÿ</a>
		
  <p class="article-time">
    <time datetime="2015-08-29T05:52:43.000Z" itemprop="datePublished"> å‘è¡¨äº 08-29-2015</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="Objective:">Objective:</h2><p>At this stage, we send command from dbapi server (<code>dbapi_tool.py</code>) to create AP (with <code>createWiFi</code> function) on the router side (<code>sniff.py</code>). If we store this AP configuration (<code>hostapd.conf</code>) into database, so that everytime sniff.py initialiate, it check if AP config file exists in server, if exists, automatically start <code>hostapd</code> with the correcponding config retrict from the server to create an AP. Other wise, do not create the AP. </p>
<h2 id="Instruction:">Instruction:</h2><ol>
<li><p>sniff.py during init needs to look for AP settings from the database and start an AP if they exist</p>
</li>
<li><p>dbapi_recon.py the POST_createWifi() command needs to now push the AP settings into the database for configuration. If you are not comfortable writing this code I can do it</p>
</li>
<li><p>dbapi_recon.py the POST_destroyWiFi() command needs to remove these settings from the database configuration, again I can write this but not until next week probably.</p>
</li>
</ol>
<p>To start, I would recommend that you change the sniff.py file so that during init it looks for the AP settings and it sets up hostapd if they are found. We can manually change the database configuration to have these extra settings without changing the dbapi_recon.py file, so this would be the easiest thing to do first.</p>
<h2 id="Thought_Process:">Thought Process:</h2><p>Inside <code>sniff.py</code> file,  </p>
<p><code>_getConfigSettings(self)</code> function get the configure files from dbapi server.</p>
<p><code>_setConfig(cfg)</code> read the config file (from dbapi server) and do the reqiured configuration for sniff instance. </p>
<p><code>cfg</code> - configuration object is a <strong>dictionary</strong> with configure information. </p>
<h2 id="Modify_files:">Modify files:</h2><p><code>sniff.py</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_setConfig</span><span class="params">(self, cfg)</span>:</span></span><br><span class="line">        <span class="string">"""</span><br><span class="line">            Takes a config object returned from the dbapi and sets the proper flags.</span><br><span class="line">        """</span></span><br><span class="line"></span><br><span class="line">		...</span><br><span class="line">		</span><br><span class="line">        <span class="comment"># set up Wifi access point</span></span><br><span class="line">        <span class="comment"># ?? completed ??</span></span><br><span class="line">        ap = cfg.get(<span class="string">'ap'</span>, <span class="keyword">None</span>)</span><br><span class="line">        <span class="keyword">if</span> (ap):</span><br><span class="line">            self._modeCreateSSID(ap, completed)</span><br><span class="line">		...</span><br><span class="line">`</span><br></pre></td></tr></table></figure>
<h2 id="Question:">Question:</h2><p><code>_modeCreateSSID(ap, completed)</code> ?? completed ??</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/work/">work</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/paradrop/">paradrop</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/08/29/serverApConfig/#comments" class="ds-thread-count comments-count-link" data-thread-key="2015/08/29/serverApConfig/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand photo" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/08/29/photoPost/" title="ç¾ä¸½çš„å°ä¸¸å­" itemprop="url">ç¾ä¸½çš„å°ä¸¸å­</a>
  </h1>
  <p class="article-author">By
       
		<a href="http://www.xuyiruan.com/about" title="é˜®å…ˆç”Ÿ" target="_blank" itemprop="author">é˜®å…ˆç”Ÿ</a>
		
  <p class="article-time">
    <time datetime="2015-08-29T05:52:43.000Z" itemprop="datePublished"> å‘è¡¨äº 08-29-2015</time>
    
  </p>
</header>
    <div class="article-content">
        
        
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/å›¾ç‰‡/">å›¾ç‰‡</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/08/29/photoPost/#comments" class="ds-thread-count comments-count-link" data-thread-key="2015/08/29/photoPost/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/08/29/loc_node_white_list/" title="loc_node white list implementation" itemprop="url">loc_node white list implementation</a>
  </h1>
  <p class="article-author">By
       
		<a href="http://www.xuyiruan.com/about" title="é˜®å…ˆç”Ÿ" target="_blank" itemprop="author">é˜®å…ˆç”Ÿ</a>
		
  <p class="article-time">
    <time datetime="2015-08-29T05:52:43.000Z" itemprop="datePublished"> å‘è¡¨äº 08-29-2015</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><img src="http://7xihzu.com1.z0.glb.clouddn.com/work.loc_white_list.jpg" alt="Localization Project" style="width:600px;"></p>
<h2 id="TODO:">TODO:</h2><ol>
<li>end-to-end dbapi testing</li>
</ol>
<h2 id="Objective:">Objective:</h2><p>Create a white list filter for specfic MAC address to allow localization data to pass to <code>loc</code> instance from <code>loc_node</code>.<br>look at code in <code>loc_node</code> to see poetential place to add white list filtering in.</p>
<h2 id="Files_to_read/modify:">Files to read/modify:</h2><ol>
<li><code>/home/xuyi/paradrop/trunk/scripts/recon_locmgmt.py</code></li>
<li><code>/home/xuyi/paradrop/trunk/scripts/recon_loc.conf</code> - configuration file to create specific <code>loc</code> instances follow by <code>loc_node</code></li>
<li><code>/home/xuyi/paradrop/trunk/backend/loc/loc_node.py</code> - receive raw data (RSSI data) forward by <code>dbapi</code> and filter the  raw data by last digit of the associated MAC address. ex. (0-7) goes to <code>loc1</code> and (8-F) goes to <code>loc2</code>. We need to add new function to filter specific MAC by creating a white list.  </li>
<li><code>/home/xuyi/paradrop/trunk/backend/loc/loc.py</code> - the sever that process and compute the raw data from <code>loc_node</code> then sent computed data back to <code>dbapi_server</code> and store there.</li>
<li></li>
</ol>
<h2 id="Study_Notes:">Study Notes:</h2><p>1.in side the <code>loc_node.py</code> file, function <code>generateMacMap</code> generates a dictionary <code>macMap</code> that map <code>last char of MAC</code> to <code>loc id number</code></p>
<p>2.<code>macMap</code> takes <code>char</code> and returns <code>loc id number</code></p>
<p>3.<code>locData</code> is a dictionary where key(might be <code>number</code>) -&gt; value (might be <code>data</code>)</p>
<p>4.<code>locMap</code> should be a dictonary of mapping from <code>loc number</code>: <code>data</code></p>
<p><code>locMap</code> -&gt; {0:[data1, data2, data3â€¦], 1:[data1, data2, data3..], 2:[d1, d2..] â€¦}</p>
<p>5.<code>determineLoc(macMap, d)</code> returns  <code>macMap[d[2][-1]]</code> which is a <code>loc id numnber</code>, </p>
<p>6.Get MAC address: <code>d[2]</code></p>
<p>7.Get the last char of MAC address: <code>d[2][-1]</code></p>
<p>8.Use the last char of MAC to get its <code>loc id num</code>: <code>macMap[d[2][-1]]</code></p>
<p>9.<code>defer_parseData</code> function inside <code>loc_node.py</code> is the method send <code>data</code> to specific <code>loc module</code>, have a white list filter MAC address here will be reasonable.</p>
<p>10.<code>myLocData</code> = <code>locData</code>, <code>locData</code> stores the information of the current <code>loc</code> inlclude the number of loc modules is running. </p>
<p>11.<code>genearteMacMap</code>â€˜s primary function is to divide 0-F 16 possibles of last char of the MAC address into number of group to do computation. That number determine by current number of running <code>loc module</code>(determine by <code>myLocData</code>)</p>
<p>cat scripts/recon_loc.conf<br>python scripts/recon_locmgmt.py -g â€œState Streetâ€ â€”check</p>
<p>svn status</p>
<p>svn ci -m â€œDFW: added password support to SSID startupâ€</p>
<h2 id="Questions:">Questions:</h2><ol>
<li><p>Can I run command under xuyi@paradrop.wings? will that mess with the current system  - yes, run with diffrent port to not mess with the current PROD system.</p>
</li>
<li><p>what is the command to create <code>loc</code> and <code>loc_node</code> with configuration file <code>recon_loc.cnf</code> ?</p>
</li>
<li><p><code>locData</code>?? format ??  - <code>locData</code> stroes infomation about the current running <code>loc</code> instance, <code>len(locData.keys())</code> return the number of currnt running loc instance. </p>
</li>
<li><p>does d[2] detach the MAC adress from the data?  yes</p>
</li>
<li>How will the MAC address be imported to the WHITELIST?? </li>
</ol>
<h2 id="Testing:">Testing:</h2><p>open multiple tabs for running <code>loc_server</code>, <code>loc_node</code>,<code>loc</code>  </p>
<p><a href="http://wirelessathome.wings.cs.wisc.edu/redmine/projects/paradrop/wiki/Recon_Localization" target="_blank" rel="external">detail wiki here</a></p>
<p><strong>0.Run dbapi:</strong>  </p>
<p>In some cases you might want to test the FULL end to end system which would include the dbapi, in this case you can run dbapi as follows:</p>
<p><code>python dbapi/dbapi_server.py -s DBAPI_RECON_SNIFF_DISABLE_DB:True -s LOC_SERVER_URL:http://localhost</code></p>
<p>If you deceide to run the test  on <strong>paradrop.wings</strong>, make sure you change the <code>LOC_SERVER_PORT</code> for <code>loc_sever</code>, <code>loc_node</code>, and <code>loc</code> first so that it will not interference with current <code>loc_node</code> for PROD (current PROD version of the loc_server runs on 10400). To change port for <code>local_server</code>, append command line: <code>-s LOC_SERVER_PORT:PORT_NUM</code></p>
<p><strong>1.Run <code>loc_server</code>:</strong>  </p>
<p>On local machine:</p>
<pre><code>python loc_server<span class="class">.py</span> -s LOC_SERVER_DISABLE_DB:True
</code></pre><p>On <code>paradrop.wings</code>: (change to port other than 10400)</p>
<pre><code>python loc_server.py <span class="operator">-s</span> LOC_SERVER_DISABLE_DB:True <span class="operator">-s</span> LOC_SERVER_PORT:<span class="number">11400</span>
</code></pre><p><strong>2.Run <code>loc_node</code>:</strong>  </p>
<p>On local machine:</p>
<pre><code>python loc_node.py -g <span class="string">"Test"</span> --id <span class="number">0</span> -s <span class="constant">LOC_SERVER_URL</span><span class="symbol">:http</span><span class="symbol">://localhost</span> -s <span class="constant">LOC_NODE_URL</span><span class="symbol">:http</span><span class="symbol">://localhost</span>
</code></pre><p>On <code>paradrop.wings</code>: </p>
<pre><code>python loc_node.py -g <span class="string">"Test"</span> --id <span class="number">0</span> -s <span class="constant">LOC_SERVER_URL</span><span class="symbol">:http</span><span class="symbol">://localhost</span> -s <span class="constant">LOC_NODE_URL</span><span class="symbol">:http</span><span class="symbol">://localhost</span> -s <span class="constant">LOC_SERVER_PORT</span><span class="symbol">:</span><span class="number">11400</span>
</code></pre><p><strong>3.Run two instanc of <code>loc</code>:</strong>  </p>
<p>On local machine:</p>
<p>Instance 0:<br>    python loc.py â€”id 0 -g â€œTestâ€ â€”guarantee 8 -s LOC_SERVER_URL:<a href="http://localhost" target="_blank" rel="external">http://localhost</a> -s LOC_URL:<a href="http://localhost" target="_blank" rel="external">http://localhost</a></p>
<p>Instance 1:<br>    python loc.py â€”id 1 -g â€œTestâ€ â€”guarantee 8 -s LOC_SERVER_URL:<a href="http://localhost" target="_blank" rel="external">http://localhost</a> -s LOC_URL:<a href="http://localhost" target="_blank" rel="external">http://localhost</a></p>
<p>OR</p>
<p>On <code>paradrop.wings</code>: </p>
<p>python loc.py â€”id 0 -g â€œTestâ€ â€”guarantee 8 -s LOC_SERVER_URL:<a href="http://localhost" target="_blank" rel="external">http://localhost</a> -s LOC_URL:<a href="http://localhost" target="_blank" rel="external">http://localhost</a> -s LOC_SERVER_PORT:11400</p>
<p><strong>The loc_test</strong>  </p>
<p>If testing <strong>directly with loc_node</strong> (ie. loc_test bypasses dbapi and sends the raw data directly to loc_node)</p>
<p><code>python loc_test.py -g &quot;Test&quot; -t 5 -ep 0.10 -np 0.10 -mp &quot;10-0.85-0.99-0.5&quot; -u &quot;http://localhost:10500/v1/data&quot;</code></p>
<p>If testing <strong>full end to end with dbapi</strong> which means loc_test acts like a true AP and sends its data only to dbapi</p>
<p><code>python loc_test.py -g &quot;Test&quot; -t 5 -ep 0.10 -np 0.10 -mp &quot;10-0.85-0.99-0.5&quot; -u &quot;http://localhost:10330/v1/recon/data/set&quot;</code></p>
<h2 id="Useful_Functions:">Useful Functions:</h2><h3 id="zip()">zip()</h3><p>listOfMac = [â€˜Aâ€™,â€™Bâ€™,â€™Câ€™,â€™Dâ€™]<br>listOfNum = [1,2,3,4]<br>zip(listOfMac, listOfNum) = [(â€˜Aâ€™, 1), (â€˜Bâ€™, 2), (â€˜Câ€™, 3), (â€˜Dâ€™, 4)]  </p>
<h3 id="grep">grep</h3><p>grep file named <code>sniff.py</code> in current directory:</p>
<p><code>grep -rl &quot;sniff.py&quot; .</code></p>
<p><code>-r</code> - (or <code>--recursive</code>)indicates search recursivly<br><code>-l</code> - (or <code>--files-with-matches</code>) only print files name of matching files </p>
<h2 id="Potential_Solution">Potential Solution</h2><p>inside the <code>loc_node.py</code>, utilize the  <code>def filterData(self, d):</code> function.</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="title">WHITELIST_MAC</span> = [<span class="string">'2a:e3:5a:8b:38:cf'</span>, <span class="string">'94:81:90:f9:2f:fc'</span>, <span class="string">'71:b7:4b:54:8e:ec'</span>, <span class="string">'8a:1a:27:0c:55:f6'</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">filterData</span><span class="params">(self, d)</span>:</span></span><br><span class="line">    <span class="string">"""Filter some data, if we return true here then skip this data"""</span></span><br><span class="line">	....</span><br><span class="line">	<span class="keyword">if</span> d[<span class="number">2</span>] <span class="keyword">not</span> <span class="keyword">in</span> WHITELIST_MAC:</span><br><span class="line">    	<span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">    	</span><br><span class="line">    retur <span class="keyword">False</span></span><br></pre></td></tr></table></figure>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">def setupArgParse():</span><br><span class="line">    <span class="keyword">...</span></span><br><span class="line">    p.add_argument(<span class="string">'--whitelist'</span>, <span class="string">'-wl'</span>, help=<span class="string">'create MAC white list. usage: -wl "mac0" -wl "mac1"... '</span>, type=str, action=<span class="string">'append'</span>, required=False)</span><br><span class="line">    <span class="keyword">...</span></span><br></pre></td></tr></table></figure>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># Main function</span></span><br><span class="line"><span class="keyword">if</span>(__name__ == <span class="string">"__main__"</span>):</span><br><span class="line">    <span class="keyword">...</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(args.whitelist):</span><br><span class="line">        WHITELIST_MAC = args.whitelist</span><br><span class="line">    <span class="keyword">...</span></span><br></pre></td></tr></table></figure>
<h2 id="Errors_encoutered:">Errors encoutered:</h2><p>x86_64-linux-gnu-gcc: internal compiler error: Killed (program cc1)</p>
<p>Please submit a full bug report,</p>
<p>with preprocessed source if appropriate.</p>
<p>See <a href="file:///usr/share/doc/gcc-4.8/README.Bugs" target="_blank" rel="external">file:///usr/share/doc/gcc-4.8/README.Bugs</a> for instructions.</p>
<p>error: command â€˜x86_64-linux-gnu-gccâ€™ failed with exit status 4</p>
<hr>
<p>Cleaning upâ€¦<br>Command /usr/bin/python -c â€œimport setuptools, tokenize;<strong>file</strong>=â€™/tmp/pip<em>build<em>root/pandas/setup.pyâ€™;exec(compile(getattr(tokenize, â€˜openâ€™, open)(<strong>file</strong>).read().replace(â€˜\r\nâ€™, â€˜\nâ€™), <strong>file</strong>, â€˜execâ€™))â€ install â€”record /tmp/pip-6NVncg-record/install-record.txt â€”single-version-externally-managed â€”compile failed with error code 1 in /tmp/pip_build_root/pandas<br>Traceback (most recent call last):<br>  File â€œ/usr/bin/pipâ€, line 9, in <module><br>    load_entry_point(â€˜pip==1.5.4â€™, â€˜console_scriptsâ€™, â€˜pipâ€™)()<br>  File â€œ/usr/lib/python2.7/dist-packages/pip/__init</module></em></em>.pyâ€, line 235, in main<br>    return command.main(cmd_args)<br>  File â€œ/usr/lib/python2.7/dist-packages/pip/basecommand.pyâ€, line 161, in main<br>    text = â€˜\nâ€™.join(complete_log)<br>UnicodeDecodeError: â€˜asciiâ€™ codec canâ€™t decode byte 0xe2 in position 41: ordinal not in range(128)</p>
<hr>
<h3 id="Solutions:">Solutions:</h3><p><a href="http://stackoverflow.com/questions/24455238/lxml-installation-error-ubuntu-14-04-internal-compiler-error" target="_blank" rel="external">Solution from stackoverflow</a></p>
<p>Possible solution (if you have no ability to increase memory on that machine) is to add swap file.</p>
<p><code>sudo dd if=/dev/zero of=/swapfile bs=1024 count=524288</code><br><code>sudo chmod 600 /swapfile</code><br><code>sudo mkswap /swapfile</code><br><code>sudo swapon /swapfile</code><br>from <a href="https://github.com/pydata/pandas/issues/1880#issuecomment-9920484" target="_blank" rel="external">https://github.com/pydata/pandas/issues/1880#issuecomment-9920484</a></p>
<p>This worked for me on smallest digital ocean machine</p>
<h2 id="Schedule:">Schedule:</h2><p>1.white list for MAC address in <code>loc_node</code>  (finsih code on JUN 24th)<br>  white list for MAC address in <code>loc_node</code> (testsed on JUN 26th)</p>
<p>2.The next thing we need to do is add the ability for the createWiFi command to store the AP configuration in our database and then when sniff.py downloadâ€™s its settings it would start the AP during initialization if those settings are found in the database.</p>
<p>So there are several things that need to change:</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/work/">work</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/paradrop/">paradrop</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/08/29/loc_node_white_list/#comments" class="ds-thread-count comments-count-link" data-thread-key="2015/08/29/loc_node_white_list/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/08/29/hello-world/" title="Hello World" itemprop="url">Hello World</a>
  </h1>
  <p class="article-author">By
       
		<a href="http://www.xuyiruan.com/about" title="é˜®å…ˆç”Ÿ" target="_blank" itemprop="author">é˜®å…ˆç”Ÿ</a>
		
  <p class="article-time">
    <time datetime="2015-08-29T05:52:43.000Z" itemprop="datePublished"> å‘è¡¨äº 08-29-2015</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick_Start">Quick Start</h2><h3 id="Create_a_new_post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server">Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/08/29/hello-world/#comments" class="ds-thread-count comments-count-link" data-thread-key="2015/08/29/hello-world/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/08/29/endOfJunior/" title="å›é¦–å¤§ä¸‰ä¸‹" itemprop="url">å›é¦–å¤§ä¸‰ä¸‹</a>
  </h1>
  <p class="article-author">By
       
		<a href="http://www.xuyiruan.com/about" title="é˜®å…ˆç”Ÿ" target="_blank" itemprop="author">é˜®å…ˆç”Ÿ</a>
		
  <p class="article-time">
    <time datetime="2015-08-29T05:52:43.000Z" itemprop="datePublished"> å‘è¡¨äº 08-29-2015</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>å¤§ä¸‰ä¸Šå­¦æœŸæ”¶è·ä¸å°ï¼ŒGPAæˆåŠŸç ´3.7ã€‚æ•°äº†æ•°é’±åŒ…ï¼ŒçŸ­çŸ­4ä¸ªæœˆç”³è¯·äº†æ¥è¿‘10å¼ çš„ä¿¡ç”¨å¡ğŸ’³ã€‚è¿™ä¸¤å¤©åˆšåˆšæ¥åˆ°sumanæ•™æˆçš„å›ä¿¡ï¼Œé‚€è¯·æˆ‘åŠ å…¥ä»–çš„å›¢é˜Ÿï¼Œsummer researchä¹Ÿæœ‰äº†ç€è½ï½æˆ‘çš„å°ç¾å¥³è¿˜æœ‰1ä¸ªæœˆå°±è¦æ¥ç¾å›½è¯»ç ”äº†ã€‚æ„Ÿè§‰ä¸€åˆ‡éƒ½æ…¢æ…¢è¡—ä¸Šäº†æ­£è½¨ã€‚ä»Šå¹´æš‘å‡ä¸Šä¸€é—¨EPD397(å­¦æœ¯å†™ä½œè¯¾)ï¼Œå¤–åŠ å¦å¤–ä¸€é—¨ç½‘è¯¾(éŸ³ä¹ç†è®ºè¯¾)ã€‚å¤§å››ä¸¤ä¸ªå­¦æœŸæ¯å­¦æœŸåªéœ€è¦14ä¸ªå­¦åˆ†å°±å¯ä»¥åŒå­¦ä½é¡ºåˆ©æ¯•ä¸šã€‚</p>
<p>å¤§ä¸‰ä¸‹å­¦æœŸè®©æˆ‘æ˜ç™½äº†ä»€ä¹ˆæ˜¯å­¦ä¹ ,æˆ‘æ€»ç»“å‡ºè‡ªå·±äººç”Ÿçš„å…¬å¼:<br><strong>å–œæ¬¢,çƒ­çˆ±çš„äº‹æƒ…ï¼‹å­¦ä¹ æ—¶å¿ƒæ— æ—å¿µï¼ç”Ÿæ´»</strong>ã€‚</p>
<p>ä¸ä»…å­¦ä¹ çš„æ•ˆç‡ä¹Ÿæ˜æ˜¾æå‡äº†ï¼Œå¸¸æ—…å®¢çš„å­¦è¯†æ–¹é¢æ…¢æ…¢è·Ÿä¸Šäº†å‰è¾ˆä»¬çš„è„šæ­¥ã€‚ä¸»æµçš„ä¿¡ç”¨å¡ï¼Œé…’åº—ï¼Œèˆªç©ºé‡‘å¡ç§¯åˆ†éƒ½æœ‰äº†å¤§æ¦‚çš„äº†è§£ï¼Œè‡ªå·±çš„è§†é‡ä¸€ä¸‹å­å®½äº†è®¸å¤šã€‚è€çˆ¸ç»å¸¸çˆ±è¯´çš„ä¸€å¥è¯ï¼šâ€œèŠ±å°é’±åŠå¤§äº‹â€ æ„Ÿè§‰è·Ÿå¸¸æ—…å®¢çš„ç²¾é«“æœ‰ä¸€å®šçš„ç›¸ä¼¼åº¦ã€‚åœ¨è·Ÿå‰è¾ˆï¼åŒè¾ˆä»¬çš„å­¦æœŸè¿‡ç¨‹ä¸­æ‡‚å¾—äº†å¸¸æ—…å®¢çš„ç²¾ç¥: å‡ºé—¨æ—…æ¸¸ï¼Œè¦è‡ªå·±ç©çš„å¼€å¿ƒï¼Œä½å¾—å¼€å¿ƒï¼Œåƒçš„å¼€å¿ƒï¼Œå¸¸æ—…å®¢çš„ç²¾ç¥å°±æ˜¯æœ€å¤§åˆ©æ¶¦å›æŠ¥ï¼Œè¿™é‡Œå¼ºè°ƒçš„æ˜¯å›æŠ¥ã€‚æˆ‘é€‰æ‹©ä½ ä»¬é…’åº—ï¼Œå°±æ˜¯æˆ‘çœ‹å¾—èµ·ä½ ï¼Œä¸ºäº†æ„Ÿè°¢æˆ‘å¯¹ä½ çš„å¿ è¯šï¼Œå¯¹äºè¿™äº›å¿ è¯šçš„å®¢æˆ·ï¼Œä½ ä»¬ç”¨å…è´¹ä½å®¿æ¥å›æŠ¥æˆ‘ã€‚</p>
<h2 id="å¸¸æ—…å®¢ï¼š">å¸¸æ—…å®¢ï¼š</h2><p>ç†Ÿæ‚‰å’Œäº†è§£é…’åº—ï¼èˆªç©ºä¸šçš„æ¸¸æˆè§„åˆ™ï¼Œä¼šè®©ä½ çš„å‡ºè¡Œæ›´åŠ çš„èˆ’é€‚ï¼Œæ–¹ä¾¿ã€‚è¿™å‡ å¤©çŸ¥ä¹ä¸Šè®¨è®ºæ—…æ¸¸å‡ºè¡Œæ€ä¹ˆæ ·æ‰èƒ½æœ€å¼€å¿ƒã€‚ä¸€ä½æœ‹å‹æåˆ° ğŸ’°é’±ğŸ’° ä¸åº”è¯¥æ”¾åœ¨æ—…è¡Œè®¡åˆ’è€ƒè™‘çš„ç¬¬ä¸€ä½ï¼Œç©·æ¸¸ä¼šç›´æ¥å½±å“æ—…æ¸¸çš„è´¨é‡ï¼Œå’Œå¿ƒæƒ…ã€‚ä»–ä¸¾ä¾‹åˆ°ï¼Œæœ‰æ—¶å€™å› ä¸ºæƒ³çœé’±ï¼Œç»“æœä½åˆ°äº†å¾ˆåè¿œçš„åœ°æ–¹ï¼Œäº¤é€šå»ä¸»è¦çš„æ™¯ç‚¹çš„è·¯è´¹ä¸è¯´ï¼Œæ¥å›å°±æµªè´¹äº†åŠå¤©æ—¶é—´ã€‚è™½ç„¶æ™¯ç‚¹çš„é™„è¿‘é…’åº—ç›¸å¯¹ä¼šæ›´è´µäº›ï¼Œä½†æ˜¯èŠ±å¤šç‚¹é’±ï¼Œä½†æ˜¯çœä¸‹çš„æ˜¯æ›´å¤šæ¸¸è§ˆç©è€çš„æ—¶é—´ã€‚</p>
<p>é’ˆå¯¹è¿™ä¸ªè§‚ç‚¹ï¼Œæˆ‘éƒ¨åˆ†åŒæ„ï¼Œå› ä¸ºç©·æ¸¸ï¼Œå°‘èŠ±é’±ï¼Œå¹¶ä¸ä»£è¡¨æ—…é€”çš„è´¨é‡å’Œæ¬¢ä¹ä¼šå› æ­¤å¤§æ‰“æŠ˜æ‰£ã€‚è™½è¯´æ—¶é—´å°±æ˜¯é‡‘é’±ï¼Œé‡‘é’±å¯èƒ½ä¹°ç»™ä½ æ–¹ä¾¿ï¼Œä½†æ˜¯é‡‘é’±ä¸ä¸€å®šèƒ½ç»™ä½ ä¹°æ¥å¿«ä¹ã€‚2015å¹´å¯’å‡ï¼Œæˆ‘å’Œå°å¥³å‹å»äº†è¶Ÿæµ·å£ã€‚ä¸¤ä¸ªäººéƒ½æ˜¯å­¦ç”Ÿï¼Œè™½ç„¶çˆ¶æ¯ä¹Ÿç»™äº†è¶³å¤Ÿçš„èµ„é‡‘ï¼Œå¯æ˜¯æˆ‘å’Œå°å¥³å‹éƒ½é€‰æ‹©äº†ç©·æ¸¸(ç°åœ¨å›æƒ³èµ·æ¥ï¼Œæœ‰ç‚¹å§”å±ˆå°ç¾å¥³äº†ï½). æ•´è¶Ÿä¸‹æ¥äººå‡åŒ…æœºç¥¨6å¤©ä¸‹æ¥2000å‡ºå¤´ã€‚ç°åœ¨å›æƒ³èµ·æ¥ï¼Œå…¶å®æˆ‘å®¶å°ç¾å¥³å¾ˆæ—©å°±æ‡‚å¾—äº†å¸¸æ—…å®¢çš„ç²¾é«“ï¼ŒèŠ±å°é’±åŠå¤§äº‹ã€‚ç¬¬ä¸€å¤©å…¥ä½äº†ä¸€ä¸ªä¸­ç«¯é…’åº—ï¼Œä¸€æ™š300å¤šï¼Œ300å¤šåœ¨ä¸‰äºšæ¥è¯´å·²ç»æ˜¯æ¯”è¾ƒå®æƒ çš„ä»·æ ¼ã€‚å½“æ™šå°ç¾å¥³æ‰“å¼€å›¢è´­å‘ç°é™„è¿‘çš„é…’åº—æœ‰90å¤šä¸€æ™šçš„ï¼Œä¸€å¼€å§‹è¿˜ä¸å¤ªæ•¢ç›¸ä¿¡ï¼Œåæ¥çœ‹äº†ä¸‹è¿˜æŒºé è°±çš„ï¼Œå†³å®šç¬¬äºŒå¤©å»è¯•ä¸€è¯•ã€‚ç„¶åä¹‹åçš„5å¤©éƒ½åœ¨é‚£ä¸ªé…’åº—å…¥ä½ã€‚å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå»æµ·å£å°‘ä¸äº†æ½œæ°´ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸¤ä¸ªçš„ç¬¬ä¸€æ¬¡æ½œæ°´ã€‚åœ¨ä¸‰äºšæ½œæ°´ï¼Œé€šè¿‡æ­£å¸¸æ¸ é“ï¼Œæ²¡æœ‰ä¸ª300-500ä½ å°±åˆ«æƒ³ç©ã€‚ç»“æœå°ç¾å¥³å›¢è´­ä¸Šæ‰¾åˆ°äº†ä¸ªé…’åº—æ¥å›æ¥é€+çƒ§çƒ¤+æ½œæ°´ï¼89äººæ°‘å¸ã€‚å½“æ—¶ä¹Ÿä¸æ•¢ç›¸ä¿¡è‡ªå·±çš„çœ¼ç›ï¼Œå…¶å®æˆ‘ç°åœ¨ä¹Ÿè¿˜ä¸æ•¢å›æƒ³ï¼Œæˆ‘ä»¬æ˜¯æ€ä¹ˆåŠåˆ°çš„ã€‚æ‰€ä»¥è¯´å¹¶ä¸æ˜¯è¯´ç©·æ¸¸å°±ä¼šå½±å“å‡ºè¡Œçš„è´¨é‡ï¼Œè¿™ä¸¤è€…ä¹‹é—´çš„å…³ç³»æ˜¯éå¸¸å¾®å¦™çš„ã€‚åªè¦ä½ æœ‰å¿ƒï¼Œå¤šæ‰¾æ‰¾ï¼Œå¤šçœ‹çœ‹ï¼Œå¤šæ¯”ä¸€æ¯”ï¼Œå‡ºé—¨æ—…è¡Œï¼Œå¾ˆå¤šè´¹ç”¨å…¶å®æ˜¯å¯ä»¥çœä¸‹æ¥çš„ã€‚é‚£äº›è´¹ç”¨æ²¡æ³•é¿å…è´¹ç”¨ï¼Œé’ˆå¯¹ä¸åŒç±»å‹æ¶ˆè´¹ï¼Œä½¿ç”¨ä¸åŒçš„ä¿¡ç”¨å¡æ¶ˆè´¹ï¼Œä½¿å¾—ç§¯åˆ†æœ€å¤§åˆ©ç›ŠåŒ–ï¼Œä½¿å¾—æ—…æ¸¸å‡ºè¡Œæ­£å›æŠ¥ï¼Œæ˜¯æ—…è¡Œå˜æˆä¸€ç§æœŸå¾…è€Œä¸æ˜¯ä¸€ç§è´Ÿæ‹…ã€‚</p>
<h2 id="å­¦ä¸šï¼š">å­¦ä¸šï¼š</h2><p>å¤§ä¸‰ä¸‹ä¹Ÿæ˜¯å¤ŸæƒŠé™©çš„ï¼Œä¸€å…±5é—¨è¯¾ï¼Œ14ä¸ªå­¦åˆ†ï¼Œç”±äºECE340(ç”µè·¯è®¾è®¡)è¿™é—¨è¯¾ç¬¬ä¸€æ¬¡midtermè€ƒçš„å¤ªç³Ÿï¼Œæœ€åå‹‰å¼ºæ‹¿äº†ä¸ªABï¼Œä¹Ÿæ˜¯è¿™å­¦æœŸå”¯ä¸€çš„ABã€‚è™½ç„¶æœ‰äº›é—æ†¾ï¼Œé”™è¿‡äº†å•å­¦æœŸGPA4.0çš„æœºä¼šã€‚ä¸è¿‡ä¹Ÿç»™æˆ‘ç•™ä¸‹äº†å‘å±•çš„ç©ºé—´ï¼Œäº‰å–å¤§å››ä¸‹å­¦æœŸåŠªåŠ›GPA4.0ï¼Œç»™è‡ªå·±çš„å¤§å­¦ç”Ÿæ¶¯æ‹¼ä¸€æŠŠã€‚CS540(äººå·¥æ™ºèƒ½)è¿™é—¨è¯¾è€å¸ˆæ˜¯ä¸ªäººå·¥æ™ºèƒ½çš„åšå£«ç”Ÿï¼Œè®²è¯¾éå¸¸æœ‰è¶£ï¼Œå¹¶ä¸”å¯¹å­¦ç”Ÿä¸ç¦»ä¸å¼ƒã€‚æœ‰å‡ æ¬¡projecté‡åˆ°bugæŠ“ç ´å¤´è„‘ä¹Ÿæ— æ³•ç»§ç»­çš„æ—¶å€™ï¼Œä»–æ€»æ˜¯å¾ˆä¹æ„ä¼¸å‡ºæ´æ‰‹ï¼Œç‰ºç‰²è‡ªå·±çš„é¢å¤–æ—¶é—´å¸®æˆ‘ä»¬è¿™ç¾¤å°å±å­©debugï¼ŒçœŸå¿ƒå¥½è€å¸ˆï¼Œå°å“¥åå­—å«åšScott Alfeldï¼ŒçœŸå¿ƒç»™ä¸ªå¥½è¯„ğŸ‘ ä¸Šå­¦æœŸGPA3.68è¿™å­¦æœŸå°¤å…¶é‡è¦ï¼Œç»è¿‡ä¸€ç•ªåŠªåŠ›ï¼ŒGPAç»ˆäºæ¶¨åˆ°äº†3.71ï¼Œçœ‹åˆ°è‡ªå·±çš„GPAä»3.6é£åˆ°3.7çš„é‚£ä¸€åˆ»ï¼ŒçœŸçš„è¶…çº§å¼€å¿ƒï¼åé¢ä¸¤ä¸ªå­¦æœŸå¥½å¥½çæƒœå­¦ä¹ çš„æœºä¼šï¼ŒçœŸæ­£ä¼šå­¦ä¹ çš„äººï¼Œå­¦ä¹ çš„æ—¶å€™å¿ƒæ— æ—å¿µï¼Œç©è€çš„æ—¶å€™æ¿€æƒ…çš„ç©è€ï¼ŒåŠ³é€¸ç»“åˆï¼Œè¯¾ä¸Šå­¦ä¹ çš„å†…å®¹è¯¾ä¸Šå°±ææ‡‚ï¼Œè¯¾ååŠæ—¶å·©å›ºå¤ä¹ ã€‚æƒ³åˆ°åˆä¸­æ•°å­¦è€å¸ˆçš„å£å¤´ç¦…ï¼šæ‰“ç ´æ²™é”…é—®åˆ°åº•ï¼ç°åœ¨å›æƒ³èµ·æ¥è¿˜æ˜¯éå¸¸æœ‰é“ç†çš„ã€‚è¿™å‡ å¤©ä½œä¸šæ¯”è¾ƒå¤šï¼Œçˆ¸çˆ¸åˆšå¥½è¿‡æ¥ç©è€ï¼Œé‚£ä¸€å¤©æˆ‘3ç‚¹ç¡è§‰ï¼Œ5ç‚¹èµ·åºŠç»§ç»­å†™ä½œä¸šï¼Œç›´åˆ°ä¸Šè¯¾å‰çš„ä¸€ä¸ªå°æ—¶ï¼Œæˆ‘ç»ˆäºæŠŠä½œä¸šå†™å®Œï¼Œé€äº†ä¸€å£æ°”ã€‚çˆ¸çˆ¸çœ‹åˆ°æˆ‘å­¦çš„è¿™ä¹ˆè¾›è‹¦ï¼Œä»–å¿ƒé‡Œå¥½ä¸æ˜¯æ»‹å‘³ï¼Œå¹³æ—¶å¾ˆå°‘æµéœ²è‡ªå·±å¿ƒé‡Œæƒ…æ„Ÿçš„çˆ¶äº²ğŸ‘¨æƒ…ä¸è‡ªç¦çš„æ„Ÿæ…¨é“:â€œå„¿å­ï¼Œå­¦ä¹ å¥½è¾›è‹¦uâ€ã€‚å¯æ˜¯æˆ‘æƒ³è¯´ï¼šçˆ¸çˆ¸è¿™ç‚¹è‹¦ä¸ç®—ä»€ä¹ˆï¼Œå­¦ä¹ è¿‡ç¨‹è™½ç„¶è‰°è‹¦ï¼Œä½†æ˜¯å­¦åˆ°ä¸œè¥¿éƒ½æ˜¯è‡ªå·±çš„ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼å¸Œæœ›ä½ ä¸è¦ä¸ºæˆ‘æ‹…å¿ƒï¼Œæ‚¨è¾›è¾›è‹¦è‹¦ä¸€ç‚¹ç‚¹ç§¯æ”’èµ·æ¥çš„å°é‡‘åº“ï¼Œå…¨éƒ½ç»™äº†æˆ‘ï¼Œæä¾›ç»™æˆ‘æœ€æ£’çš„æ•™è‚²æœºä¼šï¼Œæˆ‘ä¸ä¼šè®©ä½ å¤±æœ›ã€‚å½“ç„¶å­¦ä¹ çš„æœŸé—´éš¾å…ä¹Ÿä¼šæœ‰é‡åˆ°å›°éš¾æƒ³è‡ªæš´è‡ªå¼ƒçš„æ—¶å€™ï¼Œéå¸¸æ„Ÿè°¢æˆ‘çš„å°ç¾å¥³ğŸ‘©ï¼Œä¸ä¾ä¸é¥¶çš„é™ªåœ¨æˆ‘çš„èº«è¾¹ï¼Œé¼“åŠ±æˆ‘ï¼Œç»™æˆ‘åŠ›é‡ï¼Œè°¢è°¢ä½ æ—¶ä¸æ—¶å¯„æ¥çš„å¤§ç¤¼åŒ…(é‡Œé¢éƒ½æ˜¯æœ€çˆ±çš„å¥½åƒçš„é›¶é£ŸğŸ˜‹)åœ¨è¿™é‡Œç‰¹åˆ«æ„Ÿè°¢å°çŒªçŒªğŸ’ï¼Œæˆ‘æ˜¯ä½ å¹¸ç¦çš„å°å¸…å“¥ğŸ‘¦ã€‚</p>
<h2 id="ä¿¡ç”¨å¡ï¼å¸¸æ—…å®¢ï¼š">ä¿¡ç”¨å¡ï¼å¸¸æ—…å®¢ï¼š</h2><p>ç®€å•æ€»ç»“ä¸‹è¿™å››ä¸ªæœˆæ¥çš„æˆ˜æœ(åºŸè¯ä¸å¤šè¯´ï¼Œå…ˆä¸Šå›¾):<br><img src="http://7xihzu.com1.z0.glb.clouddn.com/cards.jpg" alt="4ä¸ªæœˆçš„çŒç‰©" style="width:600px;"></p>
<p><strong>èˆªç©ºâœˆï¸ç§¯åˆ†:</strong><br>United 90,548<br>AA 53,392</p>
<p><strong>ä¿¡ç”¨å¡ğŸ’³ç§¯åˆ†:</strong><br>MR(AMEX):53,911<br>UR(CHASE):14,301</p>
<p><strong>é…’åº—ğŸ¨ç§¯åˆ†ï¼š</strong><br>HHonor: 64,768</p>
<p><strong>é…’åº—èˆªç©ºä¼šå‘˜: </strong><br>UAé‡‘ï¼Œå¸Œå°”é¡¿é‡‘ï¼ŒABé‡‘ï¼Œä¸‡è±ªé‡‘ï¼ŒBestWesterné’»ï¼ŒHerzé‡‘ã€‚</p>
<h2 id="æš‘å‡ç›®æ ‡ï¼š">æš‘å‡ç›®æ ‡ï¼š</h2><ol>
<li>ä¸è®¸å·æ‡’ï¼Œæ¯å¤©åšæŒğŸƒ æ˜¯ä¸ªğŸ‘¦ å°±å‰ªæ‰å°è‚šè‚š</li>
<li>å®Œæˆ <strong> [Head First Java]</strong> <img src="http://7xihzu.com1.z0.glb.clouddn.com/books.headFirstJava.png" alt="Head First Java" style="width:600px;"></li>
<li>å®Œæˆ <strong> [Effective Java]</strong>   <img src="http://7xihzu.com1.z0.glb.clouddn.com/books.EffectJava.png" alt="Effective Java" style="width:600px;"></li>
<li>æ¯å¤©æ—©æ™šGRE å•è¯(200ä¸ª) å„ä¸€å°æ—¶ å·æ‡’ä¸èƒŒå°±æ˜¯å°ç‹—ğŸ¶</li>
<li>Python çˆ¬è™«project  </li>
</ol>
<p>å…ˆæƒ³åˆ°è¿™ä¹ˆå¤šï½ æƒ³åˆ°é‡è¦çš„ç»§ç»­è¡¥å……ã€‚</p>
<h2 id="å¤§å››è¯¾ç¨‹å®‰æ’ï¼š">å¤§å››è¯¾ç¨‹å®‰æ’ï¼š</h2><p>To be continueâ€¦â€¦</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/ç”Ÿæ´»/">ç”Ÿæ´»</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/æ‚æ–‡/">æ‚æ–‡</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/08/29/endOfJunior/#comments" class="ds-thread-count comments-count-link" data-thread-key="2015/08/29/endOfJunior/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/13/ubuntu-snappy-apu/" title="ubuntu_snappy_apu" itemprop="url">ubuntu_snappy_apu</a>
  </h1>
  <p class="article-author">By
       
		<a href="http://www.xuyiruan.com/about" title="é˜®å…ˆç”Ÿ" target="_blank" itemprop="author">é˜®å…ˆç”Ÿ</a>
		
  <p class="article-time">
    <time datetime="2015-07-13T18:20:18.000Z" itemprop="datePublished"> å‘è¡¨äº 07-13-2015</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Todo:">Todo:</h1><ol>
<li><del>flash img into SD card</del></li>
<li><del>Boot system with SD card and see if everything goes well</del></li>
<li><del>figure out how to ssh into the system - either through ethernet or serial</del></li>
<li><del>fix driver issue for wan port(it works)</del></li>
<li><del>fix the driver issues for wirless card(it works)</del></li>
</ol>
<h1 id="Objective:">Objective:</h1><p>Paradrop 2.0 will be deployed on the newest Ubuntu 15.04. The following task will try to deploy Ubuntu snappy on the paradrop router.</p>
<h1 id="Writing_the_-img_file_to_the_SD_card">Writing the .img file to the SD card</h1><p>Run the following command from terminal to verify the path of SD card: </p>
<pre><code>diskutil <span class="type">list</span>
</code></pre><p>The output shows all the disks current mounted on the system. Look for the path of your SD card by <code>size</code> and <code>NAME</code></p>
<pre><code>/dev/disk3
<span class="comment">#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
0:     FDisk_partition_scheme                        <span class="keyword">*</span>8.0 GB     disk3
1:                 DOS_FAT_32 RPISDCARD               8.0 GB     disk3s1    
</code></pre><p>In this case <code>dev/disk3</code> is the path for my SD card. </p>
<p>Unmount the current partition on the SD card in order to sucessfully use <code>dd</code> to write.</p>
<pre><code>diskutil unmount <span class="regexp">/dev/</span>disk3s1
</code></pre><p>Use <code>dd</code> command to write image file (Note the <code>r</code> added to rdisk3 which drastically improves write performance) to the disk. <code>if</code> (input file), <code>of</code> (output file), <code>bs</code> (block size in byte). Determine the best <code>bs</code> for your SD card, use <a href="http://jingyan.baidu.com/article/d45ad148e203f969552b800a.html" target="_blank" rel="external">link</a> for detail.</p>
<pre><code>sudo <span class="tag">dd</span> <span class="keyword">if</span>=ubuntu-<span class="number">15.04</span>-snappy-amd64-generic<span class="class">.img</span> of=/dev/rdisk3 bs=<span class="number">1</span>m
</code></pre><p>Different SD card take different time to finish the process. use <code>CTRL+T</code> to see the current status of <code>dd</code>.</p>
<h1 id="Testing_through_Terminal">Testing through Terminal</h1><p>If you would like to ssh into the system through <strong>serial</strong>, please use 9600 baud rate. (baud rate 115200 will not work)</p>
<p>Connect the serial output through USB and start Putty section with buad of 9600. Plug in SD card into the router and plug in power. The Ubunta should automatically boot and run. </p>
<h1 id="Log_into_the_snappy_ubuntu_core">Log into the snappy ubuntu core</h1><p>login: ubuntu<br>password: ubuntu  </p>
<p><img src="http://7xihzu.com1.z0.glb.clouddn.com/work.ubuntu15.jpg" alt="Snappy Ubuntu Core" style="width:600px;"></p>
<h1 id="Current_issues:">Current issues:</h1><p><a href="http://pcengines.info/forums/?page=post&amp;id=E25612E9-84F0-4DCF-A876-1E92FD1D065C" target="_blank" rel="external">http://pcengines.info/forums/?page=post&amp;id=E25612E9-84F0-4DCF-A876-1E92FD1D065C</a></p>
<p><a href="https://forum.pfsense.org/index.php?topic=74301.0" target="_blank" rel="external">https://forum.pfsense.org/index.php?topic=74301.0</a></p>
<p><strong>SSH with serial:  </strong><br>    9600 VS 115200?<br>    <del>read dalesâ€™s comments - it is about how to ssh into through serial, which i have doon</del><br>    <del>read dalesâ€™s post on that. 115200? ~~<br>    ~~ubuntu startup scripts?  - not need to worry about it now since i am able to ssh into through serial.</del>  </p>
<p><strong>SHH with network router:  </strong><br>    fix the wireless driver. - wireless driver was acutually working.        </p>
<h1 id="Test_wireless_function">Test wireless function</h1><p>To bring wirelss wlan0 up, try following commands: </p>
<pre><code><span class="title">sudo</span> ifconfig wlan0 up
</code></pre><p>Test wireless function with <code>scan</code></p>
<pre><code>sudo iw <span class="built_in">dev</span> wlan0 <span class="built_in">scan</span>
</code></pre><h1 id="Hello_Snappy_Ubuntu">Hello Snappy Ubuntu</h1><h2 id="snappy_info">snappy info</h2><pre><code>(amd64)ubuntu<span class="annotation">@localhost</span>:~$ snappy info
<span class="string">release:</span> ubuntu-core<span class="regexp">/15.04/</span>stable
<span class="string">architecture:</span> amd64
<span class="string">frameworks:</span> webdm
<span class="string">apps:</span> 
</code></pre><h2 id="check_version_of_current_installed_components">check version of current installed components</h2><p>flag (*) indicates the version of components currently running on. </p>
<pre><code>ubuntu<span class="comment">@localhost:~$ snappy list -v</span>
Name          Date       Version Developer 
ubuntu-core   2015-06-11 3       ubuntu<span class="keyword">*</span>   
webdm         2015-06-11 0.9     <span class="keyword">*</span>         
generic-amd64 2015-06-11 1.1.1             
generic-amd64 2015-07-14 1.4     <span class="keyword">*</span>         
</code></pre><h2 id="check_update_for_system">check update for system</h2><pre><code>snappy <span class="type">list</span> -uv
</code></pre><h2 id="search_for_package">search for package</h2><pre><code><span class="title">sudo</span> snappy search docker
</code></pre><h2 id="install_packeage">install packeage</h2><pre><code>snappy <span class="keyword">install</span> docker
</code></pre><h1 id="Reference">Reference</h1><p><a href="http://raspberrypi.stackexchange.com/questions/4144/writing-img-file-to-sd-card-from-a-mac" target="_blank" rel="external">Write image into SD card</a></p>
<p><a href="http://jingyan.baidu.com/article/d45ad148e203f969552b800a.html" target="_blank" rel="external">DD command detail</a></p>
<p><a href="http://store.netgate.com/WLE200NX-80211nabg-miniPCIe-Card-P1763.aspx" target="_blank" rel="external">WLE200NX</a></p>
<p><a href="https://help.ubuntu.com/community/WifiDocs/Driver/Atheros?highlight=%28%28WifiDocs%7CDriver%7CAtheros%29%29" target="_blank" rel="external">madwifi</a></p>
<p><a href="https://developer.ubuntu.com/en/snappy/guides/" target="_blank" rel="external">Snappy Inernal</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/07/13/ubuntu-snappy-apu/#comments" class="ds-thread-count comments-count-link" data-thread-key="2015/07/13/ubuntu-snappy-apu/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>







</div>
      <div class="openaside"><a class="navbutton" href="#" title="æ˜¾ç¤ºä¾§è¾¹æ "></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="éšè—ä¾§è¾¹æ "></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">åˆ†ç±»</p>
		<ul>
		
		  
			<li><a href="/categories/work/" title="work">work<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/ç”Ÿæ´»/" title="ç”Ÿæ´»">ç”Ÿæ´»<sup>2</sup></a></li>
		  
		
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">æ ‡ç­¾</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/paradrop/" title="paradrop">paradrop<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/æ‚æ–‡/" title="æ‚æ–‡">æ‚æ–‡<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/å›¾ç‰‡/" title="å›¾ç‰‡">å›¾ç‰‡<sup>1</sup></a></li>
			
		
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">å‹æƒ…é“¾æ¥</p>
    <ul>
        
          <li>
            
            	<a href="http://www.winniebabe.com" target="_blank" title="Winnie Babeçš„å°çª">Winnie Babeçš„å°çª</a>
            
          </li>
        
          <li>
            
            	<a href="http://suncuss.me" target="_blank" title="å­™è€æ¿&#39;s Blog">å­™è€æ¿&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS è®¢é˜…</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> å†™ä»£ç , å­¦çŸ¥è¯†, ä¸ºäº†å’Œä½ ä¸€èµ·æ´»ç€ <br/>
			å°ç¾é£Ÿ, æ¸¸ä¸–ç•Œ, ä¸ºäº†ç»™ä½ æ›´å¥½çš„ç”Ÿæ´»</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> Â© 2015 
		
		<a href="http://www.xuyiruan.com/about" target="_blank" title="é˜®å…ˆç”Ÿ">é˜®å…ˆç”Ÿ</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>




<script type="text/javascript">
  var duoshuoQuery = {short_name:"xruan"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-61663668-1', 'www.xuyiruan.com');  
ga('send', 'pageview');
</script>






<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="è¿”å›é¡¶éƒ¨"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

  </body>
 </html>
