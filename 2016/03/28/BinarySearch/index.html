<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  
    
      
    

    
  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|Bree Serif:300,300italic,400,400italic,700,700italic|Arimo:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Algorithm,BinarySearch," />








  <link rel="shortcut icon" type="image/x-icon" href="/images/sushi.png?v=5.0.1" />






<meta name="description" content="Binary Search Templetepublic static int binarySearch(int[] nums, int target) &amp;#123;	if (nums == null || nums.length == 0) &amp;#123;		return -1;	&amp;#125;	int low = 0;	int mid = 0;	int high = nums.length - 1">
<meta property="og:type" content="article">
<meta property="og:title" content="Binary Search">
<meta property="og:url" content="http://www.xuyiruan.com/2016/03/28/BinarySearch/index.html">
<meta property="og:site_name" content="é˜®å…ˆç”Ÿdeå°çª">
<meta property="og:description" content="Binary Search Templetepublic static int binarySearch(int[] nums, int target) &amp;#123;	if (nums == null || nums.length == 0) &amp;#123;		return -1;	&amp;#125;	int low = 0;	int mid = 0;	int high = nums.length - 1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Binary Search">
<meta name="twitter:description" content="Binary Search Templetepublic static int binarySearch(int[] nums, int target) &amp;#123;	if (nums == null || nums.length == 0) &amp;#123;		return -1;	&amp;#125;	int low = 0;	int mid = 0;	int high = nums.length - 1">




<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>

  <title> Binary Search | é˜®å…ˆç”Ÿdeå°çª </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">é˜®å…ˆç”Ÿdeå°çª</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">å¤šè¯»ä¹¦ å¤šæ€è€ƒ å°‘åƒé›¶é£Ÿ å¤šç¡è§‰</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'TVdsuUVez9DD1Mx-gjc8','2.0.0');
</script>



    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Binary Search
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-03-28T14:35:52-04:00" content="03-28-2016">
              03-28-2016
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/28/BinarySearch/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/03/28/BinarySearch/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2016/03/28/BinarySearch/" class="leancloud_visitors" data-flag-title="Binary Search">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">visitors </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Binary_Search_Templete">Binary Search Templete</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> low = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> mid = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> high = nums.length - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span> (low + <span class="number">1</span> &lt; high) &#123;</span><br><span class="line">		mid = low + (high - low) / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span> (target &lt; nums[mid])&#123;</span><br><span class="line">			high = mid;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; nums[mid]) &#123;</span><br><span class="line">			low = mid;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> mid;</span><br><span class="line">		&#125; </span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> (nums[low] == target) &#123;</span><br><span class="line">		<span class="keyword">return</span> low; </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (nums[high] == target) &#123;</span><br><span class="line">		<span class="keyword">return</span> high;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>The templete above ONLY apply when <strong>duplication</strong> is NOT allowed. If duplication is allowed, minor changes needed(read more below).  </p>
</blockquote>
<a id="more"></a>
<h1 id="Binary_Search">Binary Search</h1><ol>
<li>In-order list. </li>
<li>If not in-order -&gt; sort the list with <code>quick sort</code> first and apply binary search.</li>
</ol>
<h2 id="Binary_Search_Implementation:">Binary Search Implementation:</h2><h3 id="1:_check_the_validaite_of_low_and_high">1: check the validaite of low and high</h3><h3 id="2:_prevent_overflow">2: prevent overflow</h3><p>ç®—æ³•ä¸€ï¼š mid = (low + high) / 2</p>
<p>ç®—æ³•äºŒï¼š mid = low + (high â€“ low) / 2</p>
<p>ä¹çœ‹èµ·æ¥ï¼Œç®—æ³•ä¸€ç®€æ´ï¼Œç®—æ³•äºŒæå–ä¹‹åï¼Œè·Ÿç®—æ³•ä¸€æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚ä½†æ˜¯å®é™…ä¸Šï¼ŒåŒºåˆ«æ˜¯å­˜åœ¨çš„ã€‚ç®—æ³•ä¸€çš„åšæ³•ï¼Œåœ¨æç«¯æƒ…å†µä¸‹ï¼Œ(low + high)å­˜åœ¨ç€æº¢å‡ºçš„é£é™©ï¼Œè¿›è€Œå¾—åˆ°é”™è¯¯çš„midç»“æœï¼Œå¯¼è‡´ç¨‹åºé”™è¯¯ã€‚è€Œç®—æ³•äºŒèƒ½å¤Ÿä¿è¯è®¡ç®—å‡ºæ¥çš„midï¼Œä¸€å®šå¤§äºlowï¼Œå°äºhighï¼Œä¸å­˜åœ¨æº¢å‡ºçš„é—®é¢˜ã€‚</p>
<p>äºŒåˆ†ç®—æ³•çš„å®ç°ä¸­ï¼Œæˆ‘ä»¬æ›´æœŸæœ›çš„æ˜¯å‘ä¸‹å–æ•´, ç®—æ³•äºŒä¿è¯å‘ä¸‹å–æ•´ã€‚</p>
<p>low + high &lt; 0æ—¶ï¼Œå¦‚low = -3, high = 2æ—¶ï¼Œè®¡ç®—å‡ºæ¥çš„ä¸­ç‚¹æ˜¯0ã€‚<br>ç„¶è€Œç”¨low + (high â€“ low) / 2è®¡ç®—å‡ºæ¥çš„ä¸­ç‚¹æ˜¯-1ã€‚</p>
<p>ç®—æ³•äºŒ: å‘ä¸‹å–æ•´ã€‚(ex. 1.5 ï¼&gt; 1, -0.5 -&gt; -1)<br>ç®—æ³•ä¸€: mid æ˜¯å‘0å–æ•´: (ex. 1.5 -&gt; 1, -0.5 -&gt; 0)  </p>
<p>ä¸ºäº†é¿å… å‘0å–æ•´ ç”¨ç®—æ³•äºŒã€‚</p>
<!--more-->
<h3 id="3:_prevent_using_recursion:">3: prevent using recursion:</h3><p>slow, dont use it??</p>
<ul>
<li>use up too many <strong>system resource</strong>  </li>
<li>possible overflow  </li>
</ul>
<h2 id="Binary_Search_Templete_1">Binary Search Templete 1</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> low = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> mid = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> high = nums.length - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span> (low + <span class="number">1</span> &lt; high) &#123;</span><br><span class="line">		mid = low + (high - low) / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span> (target &lt; nums[mid])&#123;</span><br><span class="line">			high = mid;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; nums[mid]) &#123;</span><br><span class="line">			low = mid;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">			<span class="comment">// nums[mid] == target, </span></span><br><span class="line">			<span class="comment">// å› ä¸ºå¤§éƒ¨åˆ†çš„æ—¶å€™éƒ½æ˜¯ä¸ç›¸ç­‰ã€‚</span></span><br><span class="line">			<span class="comment">// æ¯æ¬¡å¾ªç¯éƒ½åˆ¤æ–­ï¼ï¼çš„è¯ï¼Œä¼šå¾ˆè€—æ—¶ã€‚</span></span><br><span class="line">			<span class="comment">// å› æ­¤æ”¾åœ¨æœ€åé¢ä¼šæå‡æ€§èƒ½ã€‚</span></span><br><span class="line">			<span class="keyword">return</span> mid;</span><br><span class="line">		&#125; </span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> (nums[low] == target) &#123;</span><br><span class="line">		<span class="keyword">return</span> low; </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (nums[high] == target) &#123;</span><br><span class="line">		<span class="keyword">return</span> high;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="T1_extend:_When_duplication_is_allowed_in_the_array">T1 extend: When <strong>duplication</strong> is allowed in the array</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> low = <span class="number">0</span>;</span><br><span class="line">   <span class="keyword">int</span> mid = <span class="number">0</span>;</span><br><span class="line">   <span class="keyword">int</span> high = nums.length - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (low + <span class="number">1</span> &lt; high) &#123;</span><br><span class="line">           mid = low + (high - low) / <span class="number">2</span>;</span><br><span class="line">           <span class="keyword">if</span> (target &lt;= reader.get(mid)) &#123; <span class="comment">// equal sign here: since we are looking for the **first** element match</span></span><br><span class="line">               high = mid;</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               low = mid;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> (reader.get(low) == target) &#123; <span class="comment">// check low index first since we want the index first element</span></span><br><span class="line">           <span class="keyword">return</span> low;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> (reader.get(high) == target) &#123;</span><br><span class="line">           <span class="keyword">return</span> high;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h2 id="Binary_Search_Templete_2">Binary Search Templete 2</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> low = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> mid = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> high = nums.length - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">		mid = low + (high - low) / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span> (target &lt; nums[mid])&#123;</span><br><span class="line">			high = mid - <span class="number">1</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; nums[mid]) &#123;</span><br><span class="line">			low = mid + <span class="number">1</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">			<span class="comment">// nums[mid] == target, </span></span><br><span class="line">			<span class="comment">// å› ä¸ºå¤§éƒ¨åˆ†çš„æ—¶å€™éƒ½æ˜¯ä¸ç›¸ç­‰ã€‚</span></span><br><span class="line">			<span class="comment">// æ¯æ¬¡å¾ªç¯éƒ½åˆ¤æ–­ï¼ï¼çš„è¯ï¼Œä¼šå¾ˆè€—æ—¶ã€‚</span></span><br><span class="line">			<span class="comment">// å› æ­¤æ”¾åœ¨æœ€åé¢ä¼šæå‡æ€§èƒ½ã€‚</span></span><br><span class="line">			<span class="keyword">return</span> mid;</span><br><span class="line">		&#125; </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (nums[low] == target) &#123;</span><br><span class="line">		<span class="keyword">return</span> low; <span class="comment">// è®°ä½è¿™é‡Œç”¨lowæ¥åˆ¤æ–­ï¼Œå› ä¸ºwhileåœ¨å¤–é¢, low &gt; high		&#125;</span></span><br><span class="line">	<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è¦ç‚¹ï¼š">è¦ç‚¹ï¼š</h2><p>å¦‚æœwhile å¾ªç¯åˆ¤æ–­æ˜¯ (low + 1 &lt; high)ï¼Œ  </p>
<ul>
<li>æ²¡æœ‰ +1, -1  </li>
<li>low + 1 = high å› æ­¤lowæ¯”high index å°‘1  </li>
</ul>
<p>å¦‚æœwhile å¾ªç¯åˆ¤æ–­ç”¨ (low &lt;= high),  </p>
<ul>
<li>éœ€è¦ +1, -1  </li>
<li>å½“è·³å‡ºwhile å¾ªç¯åï¼Œæ­¤æ—¶ low &gt; high  </li>
</ul>
<h2 id="Application_Example_1:_Search_Insert_Position">Application Example 1: Search Insert Position</h2><p><a href="http://www.lintcode.com/en/problem/search-insert-position/" target="_blank" rel="external">Click here to try</a>  </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** </span><br><span class="line">     * param A : an integer sorted array</span><br><span class="line">     * param target :  an integer to be inserted</span><br><span class="line">     * return : an integer</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">searchInsert</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// write your code here</span></span><br><span class="line">        <span class="keyword">if</span> (A.length == <span class="number">0</span> || target &lt; A[<span class="number">0</span>]) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> mid = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> high = A.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (low + <span class="number">1</span> &lt; high) &#123; <span class="comment">// to keep `start` and `end` seperate.</span></span><br><span class="line">            mid = low + (high - low) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (target &lt; A[mid]) &#123;</span><br><span class="line">                high = mid;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; A[mid]) &#123;</span><br><span class="line">                low = mid;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (target &lt;= A[low]) &#123;</span><br><span class="line">            <span class="keyword">return</span> low;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &lt;= A[high]) &#123;</span><br><span class="line">            <span class="keyword">return</span> high;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">            <span class="keyword">return</span> high + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Application_Example_2:_Search_in_Rotated_Sorted_Array">Application Example 2: Search in Rotated Sorted Array</h2><p>Suppose a sorted array is rotated at some pivot unknown to you beforehand.</p>
<p>(i.e., 0 1 2 4 5 6 7 might become 4 5 6 7 0 1 2).</p>
<p>You are given a target value to search. If found in the array return its index, otherwise return -1.</p>
<p>You may assume no duplicate exists in the array.</p>
<p><strong>Solution 1: Iteration (in linear time complexity)</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (nums[i] == target)</span><br><span class="line">				<span class="keyword">return</span> i;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Solution 2: Binary Search (time complexity in log(N))</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> mid = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> high = nums.length - <span class="number">1</span> ;</span><br><span class="line">        <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">            mid = low + (high - low)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (target == nums[mid])</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            <span class="comment">// if nums[low] &lt; nums[mid] -&gt; this portion in-order-&gt; can apply binary search</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (nums[low] &lt;= nums[mid]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (target &lt; nums[mid] &amp;&amp; target &gt;= nums[low])</span><br><span class="line">                    high = mid - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    low = mid + <span class="number">1</span>; <span class="comment">// nums[low] = nums[mid] case</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// if nums[low] &gt;= nums[mid] -&gt; other protion in-order</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//if (nums[low] &gt; nums[mid]) &#123;</span></span><br><span class="line">                <span class="keyword">if</span> (target &gt; nums[mid] &amp;&amp; target &lt;= nums[high])</span><br><span class="line">                    low = mid + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    high = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Solution 3: Binary Search with recursion</strong></p>
 <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="comment">/**</span><br><span class="line"> * Recursion with binary search</span><br><span class="line"> * </span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> binarySearch(nums, target, <span class="number">0</span>, <span class="number">0</span>, nums.length-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target, <span class="keyword">int</span> low, <span class="keyword">int</span> mid, <span class="keyword">int</span> high)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (low &lt;= high) &#123;</span><br><span class="line">            mid = low + (high - low)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (target == nums[mid])</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">                <span class="comment">// if nums[low] &lt; nums[mid] -&gt; this portion in-order-&gt; can apply binary search</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (nums[low] &lt;= nums[mid]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (target &lt; nums[mid] &amp;&amp; target &gt;= nums[low])</span><br><span class="line">                    <span class="keyword">return</span> binarySearch(nums, target, low, mid, mid - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">return</span> binarySearch(nums, target, mid + <span class="number">1</span>, mid, high);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// if nums[low] &gt;= nums[mid] -&gt; other protion in-order</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//if (nums[low] &gt; nums[mid]) &#123;</span></span><br><span class="line">                <span class="keyword">if</span> (target &gt; nums[mid] &amp;&amp; target &lt;= nums[high])</span><br><span class="line">                    <span class="keyword">return</span> binarySearch(nums, target, mid + <span class="number">1</span>, mid, high);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">return</span> binarySearch(nums, target, low, mid, mid - <span class="number">1</span>);</span><br><span class="line">            &#125; </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ‹“å±•: Allow of duplication</strong></p>
<p>In the previous case, if <code>nums[low] &lt;= nums[mid]</code>, we knows that [low, mid] is in a ordered sequence ([2, 3, 4, 5] for example).<br>BUT now with duplication allowed, this no longer hold (<code>[1, 1, 3, 1]</code> with <code>low = 1</code>, <code>mid = 1</code>). if we still image <code>[1, 1, 3, 1]</code> is an ordered sequency (since nums[low] &lt;= nums[mid]), we will not be able to notice <code>target 3</code> is in this sequence. Hence, now we need to be careful with condition <code>nums[low] &lt;= nums[mid]</code>.</p>
<p>Lets break this condition into two cases:   </p>
<ol>
<li>when <code>nums[low] &lt; nums[mid]</code><br>In this case, we are confident that [low, mid] is a increasing ordered sequence. We can apply binary search on [low, mid] to locate the target value.   </li>
<li>when <code>num[low] == nums[mid]</code><br>In this case, since duplications are allowed, we donâ€™t know if <code>[low, mid]</code> sequence is still an ordered increasing list. Therefore we can not be determine if target value is within <code>[low, mid]</code>. Hence, we simply increment the <code>low</code> pointer and cotinue with the algorithm.</li>
</ol>
<p>In this case, the time complexity will increase if the number of duplicated elements are large. Other than that, the time complexity will stay similar if not many duplications is in the sequence.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> mid = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> high = nums.length - <span class="number">1</span> ;</span><br><span class="line">        <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">            mid = low + (high - low)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (target == nums[mid])</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            <span class="comment">// if nums[low] &lt; nums[mid] -&gt; this portion in-order-&gt; can apply binary search</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (nums[low] &lt; nums[mid]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (target &lt; nums[mid] &amp;&amp; target &gt;= nums[low])</span><br><span class="line">                    high = mid - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    low = mid + <span class="number">1</span>; <span class="comment">// nums[low] = nums[mid] case</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[low] == nums[mid]) &#123;</span><br><span class="line">                <span class="comment">// account for duplication</span></span><br><span class="line">                low++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">// if nums[low] &gt; nums[mid] -&gt; other protion in-order</span></span><br><span class="line">                <span class="keyword">if</span> (target &gt; nums[mid] &amp;&amp; target &lt;= nums[high]) &#123;</span><br><span class="line">                    low = mid + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    high = mid - <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»™å®šä¸€ä¸ªå‡åºæ’åˆ—çš„è‡ªç„¶æ•°æ•°ç»„ï¼Œæ•°ç»„ä¸­åŒ…å«é‡å¤æ•°å­—ï¼Œä¾‹å¦‚ï¼š[1,2,2,3,4,4,4,5,6,7,7]ã€‚é—®é¢˜ï¼šç»™å®šä»»æ„è‡ªç„¶æ•°ï¼Œå¯¹æ•°ç»„è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œè¿”å›æ•°ç»„æ­£ç¡®çš„ä½ç½®ï¼Œç»™å‡ºå‡½æ•°å®ç°ã€‚æ³¨ï¼šè¿ç»­ç›¸åŒçš„æ•°å­—ï¼Œè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…ä½ç½®è¿˜æ˜¯æœ€åä¸€ä¸ªåŒ¹é…ä½ç½®ï¼Œç”±å‡½æ•°ä¼ å…¥å‚æ•°å†³å®šã€‚</p>
<h1 id="Logs">Logs</h1><ul>
<li>03/28/2016: first post created  </li>
<li>06/22/2016: update: added both methods, decided to use the first implementation, added sample example  </li>
<li>06/23/2016: update: updated templete 1 while duplication is allowed  </li>
<li></li>
</ul>
<h1 id="Reference:">Reference:</h1><p><a href="http://blog.csdn.net/maqingli87/article/details/8009186" target="_blank" rel="external">http://blog.csdn.net/maqingli87/article/details/8009186</a></p>
<p><a href="http://hedengcheng.com/?p=595" target="_blank" rel="external">Binary Search</a><br>[duplication allowed] (<a href="http://www.2cto.com/kf/201401/272968.html" target="_blank" rel="external">http://www.2cto.com/kf/201401/272968.html</a>)</p>
<p><a href="http://www.meetqun.com/thread-13219-1-1.html" target="_blank" rel="external">[åˆ·é¢˜å¿ƒå¾—] Binary SearchåŸºç¡€æ¨¡æ¿</a><br><a href="http://www.jianshu.com/p/0fb2f5f604fa" target="_blank" rel="external">6.äºŒåˆ†æœç´¢æ¨¡æ¿åŠå…¶å˜ä½“ï¼ˆä¸Šï¼‰</a><br><a href="http://www.jiuzhang.com/solutions/binary-search/" target="_blank" rel="external">JIUZHANG å‚è€ƒ</a><br><a href=""></a>  </p>

      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Algorithm/" rel="tag">#Algorithm</a>
          
            <a href="/tags/BinarySearch/" rel="tag">#BinarySearch</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/03/25/Hashtable-Hashmap-Hashset-linkedhashmap/" rel="next" title="Hashtable vs Hashmap vs Hashset">
                <i class="fa fa-chevron-left"></i> Hashtable vs Hashmap vs Hashset
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/03/28/BFS-DFS/" rel="prev" title="BFS vs DFS">
                BFS vs DFS <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/author.jpg"
               alt="ğŸ£ä¹‹ç¥" />
          <p class="site-author-name" itemprop="name">ğŸ£ä¹‹ç¥</p>
          <p class="site-description motion-element" itemprop="description">é˜®å…ˆç”Ÿâ€™s blog</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">57</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">categories</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">46</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/ruanxuyi" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.instagram.com/xuyiruan/" target="_blank" title="Instagram">
                  
                    <i class="fa fa-fw fa-instagram"></i>
                  
                  Instagram
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.linkedin.com/in/xuyi-ruan-a728a889" target="_blank" title="Linkedin">
                  
                    <i class="fa fa-fw fa-linkedin"></i>
                  
                  Linkedin
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-block">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://mszhuchinese.com" title="MsZhuChinese" target="_blank">MsZhuChinese</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.winniebabe.com" title="WinnieBabe" target="_blank">WinnieBabe</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://suncuss.me" title="BossSun" target="_blank">BossSun</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Binary_Search_Templete"><span class="nav-number">1.</span> <span class="nav-text">Binary Search Templete</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Binary_Search"><span class="nav-number"></span> <span class="nav-text">Binary Search</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Binary_Search_Implementation:"><span class="nav-number">1.</span> <span class="nav-text">Binary Search Implementation:</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1:_check_the_validaite_of_low_and_high"><span class="nav-number">1.1.</span> <span class="nav-text">1: check the validaite of low and high</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2:_prevent_overflow"><span class="nav-number">1.2.</span> <span class="nav-text">2: prevent overflow</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3:_prevent_using_recursion:"><span class="nav-number">1.3.</span> <span class="nav-text">3: prevent using recursion:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Binary_Search_Templete_1"><span class="nav-number">2.</span> <span class="nav-text">Binary Search Templete 1</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#T1_extend:_When_duplication_is_allowed_in_the_array"><span class="nav-number">2.1.</span> <span class="nav-text">T1 extend: When duplication is allowed in the array</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Binary_Search_Templete_2"><span class="nav-number">3.</span> <span class="nav-text">Binary Search Templete 2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è¦ç‚¹ï¼š"><span class="nav-number">4.</span> <span class="nav-text">è¦ç‚¹ï¼š</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Application_Example_1:_Search_Insert_Position"><span class="nav-number">5.</span> <span class="nav-text">Application Example 1: Search Insert Position</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Application_Example_2:_Search_in_Rotated_Sorted_Array"><span class="nav-number">6.</span> <span class="nav-text">Application Example 2: Search in Rotated Sorted Array</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Logs"><span class="nav-number"></span> <span class="nav-text">Logs</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Reference:"><span class="nav-number"></span> <span class="nav-text">Reference:</span></a></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ğŸ£ä¹‹ç¥</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'xruan';
      var disqus_identifier = '2016/03/28/BinarySearch/';
      var disqus_title = "Binary Search";
      var disqus_url = 'http://www.xuyiruan.com/2016/03/28/BinarySearch/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
        run_disqus_script('embed.js');
      
    </script>
  




  
  
  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("oKoPG1XTXkC7T1oasGQwau2g-gzGzoHsz", "JFJCQtIsUKhrX6S7Gvgqdqgk");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

</body>
</html>
