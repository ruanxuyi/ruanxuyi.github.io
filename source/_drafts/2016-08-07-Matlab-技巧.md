title: "Matlab 技巧"
date: 2016-08-07 11:11:57
tags:
- MatLab
---

# ML Week 8

## sum() and bsxfun() function

Given $X$ = size of $300 \times 2$, and `centroids` = size of $3 \times 2$.  

Want to compute the distance between each data point in $X$ and each centroid.  

We can simply write code to compute distance of two points with following:  

$$\sqrt{(A_{x} - B_{x})^2 + (A_{y} - B_{y})^2}$$

**However, there are two problems:**  
- if $X$ has more than 2 features, which is often true, the equation above can only handle 2D coordinate. We need something more dynamic to handle all kind of dimension.  
-  since we are selecting the smallest distance, and the square root operator can be simplified and drop.  

```matlab

Q =

     8     1     6
     3     5     7
     4     9     2
 
v = [1 2 3];

diffs = bsxfun(@minus, Q, v); % vectorized row subtraction

diffs =

     7    -1     3
     2     3     4
     3     7    -1

>> sum(diffs.^2, 2) % row sum

ans =

    59
    29
    59

```



## max(), min();
```
[minVal, minIndex] = min(distVec, [], 2);
```


## set match element to 1

colIndex = (idx == i);

## var()

`var(X)` function compute the variance of matrix X. 


```matlab

>> a = [1 3 5; 2 4 6; 3 5 7]

a =

     1     3     5
     2     4     6
     3     5     7

>> var(a, 0, 1) % get COLUMN variance of a with [1/m-1]

ans =

     1     1     1

>> var(a, 0, 2) % get ROW variance of a with [1/m-1]

ans =

     4
     4
     4


>> var(a, 1, 1) % get COLUMN variance of a with [1/m]

ans =

    0.6667    0.6667    0.6667

>> var(a, 1, 2) % get ROW variance of a with [1/m]

ans =

    2.6667
    2.6667
    2.6667


```