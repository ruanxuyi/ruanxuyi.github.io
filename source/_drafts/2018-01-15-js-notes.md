title: "js-notes"
date: 2018-01-15 08:51:16
tags:
- JavaScript
---


## <center> Introduction </center>

[JavaScript String documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/prototype)


- **primitive data types**: Stirngs, Numbers, Booleans, Null, undefined  
- `prompt()`  
- `confirm()`  


#### `undefined` vs `null`
> variable has **not** been assigned automtaically has value `undefined`  
> `null` value has to be **explicitly** assgined  


#### String
- `toUpperCase()`  
- `startsWith('H')`  
- `str.trim()`  
- `"str".length`  

String Interpolation in JavaScript (ES6)
```javascript
let myName = 'RS Zhu';
let myCity = 'India';
console.log(`My name is ${myName}. My favorite city is ${myCity}.`);
```

[JavaScript String documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/prototype)


#### charAt(i) vs str[i]

```js
let fruit = ['apple', 'orange']
fruit.forEach(function(fruit) {
	console.log(fruit[0]); // get first character from each element
});

```

`fruit[0]` works, but not support on all browsers. Use `fruit.charAt(0)` instead.  

https://stackoverflow.com/questions/4051385/javascript-access-string-chars-as-array
> Note: Accessing characters as numeric properties of a string is non-standard prior to ECMAScript 5 and doesn't work in all browsers (for example, it doesn't work in IE 6 or 7). You should use myString.charAt(0) instead when your code has to work in non-ECMAScript 5 environments. Alternatively, if you're going to be accessing a lot of characters in the string then you can turn a string into an array of characters using its split() method:



#### `'string'` vs `"string"`

If string includes single `'`, use double `""` for string.
`console.log("I don't love that!");`


#### Math
- `random()`  
- `floor()`  

[JavaScript Math documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/prototype)

## <center> Control Flow </center>

#### Variables
- `let`, `const`  

#### `let` vs `var`  

`let` allows us to declear varaible with **same** **name** in different scope.  

```javascript
function varTest() {
  var x = 1;
  if (true) {
    var x = 2;  // same variable!
    console.log(x);  // 2
  }
  console.log(x);  // 2
}

function letTest() {
  let x = 1;
  if (true) {
    let x = 2;  // different variable
    console.log(x);  // 2
  }
  console.log(x);  // 1
}
```

more usage could be found: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let

**Truthiness of a variable**

```javascript
let variableOne = 'I Exist!';
if (variableOne) {
// This code will run because variableOne contains a truthy value.
} else {
// This code will not run because the first block ran.
}
```
a variable is truthy **unless** it is one of the following seven values:  
- `false`  
- `0` and `-0`  
- `""` and `''` (empty strings)  
- `null`  
- `undefined` 
- `NaN` (Not a Number)  
- `document.all` (something you will rarely encounter)  

#### Comparison Operators
- `===` check if two things equal to each other   
- `!==` check if two things not equal  
- `==` convert to common type first and compare equality  
- `=` assigns value to a variable  


#### Switch statement

**Example:**   

```javascript
let groceryItem = 'papaya';

switch (groceryItem) {
  case 'tomato':
    console.log('Tomatoes are $0.49');
    break;
  case 'lime':
    console.log('Limes are $1.49');
    break;
  case 'papaya':
    console.log('Papayas are $1.29');
    break;
  default:
    console.log('Invalid item');
    break;
}
```

#### Ternary operator

**Regular If/Else statement**  

```javascript
let isNightTime = true;

if (isNightTime) {
  console.log('Turn on the lights!');
} else {
  console.log('Turn off the lights!');
}
```
**Ternary operator**

```javascript
isNightTime ? console.log('Turn on the lights!') : console.log('Turn off the lights!');
```

## <center> Function </center>

### Arrow function syntax
- `const pressPowerButton` creates a variable with a given name written in *camelCase*  
- The variable is then set equal `=` to a set of parentheses followed by an arrow token `() =>`, indicating the variable stores a function. This syntax is known as *arrow function syntax*.  
- Finally, between the curly braces `{}` is the *function body*, or the JavaScript statements that define the function. This is followed by a semi-colon `;`. In JavaScript, any code between curly braces is also known as a *block*.  


```js
let calculatorIsOn = false;

const pressPowerButton = (inParameter) => { // '() =>' indicates variable left stores a function
  if (calculatorIsOn) {
    console.log('Calculator turning off.');
    calculatorIsOn = false;
  } else {
    console.log('Calculator turning on.');
    calculatorIsOn = true;
  }
};

pressPowerButton(Argument1);
// Output: Calculator turning on.

pressPowerButton(Argument2);
// Output: Calculator turning off.
```

> **parameter** feeds into function declearation, **argument** is fed when function was called  

### Function Declarations vs function expression

#### function declaration
- a function that is **bound** to an **identifier** or **name**  
- **not** end in a semi-colon.  

```js
// function declaration

function square (number) {
  return number * number; 
}

console.log(square(5));
// Output: 25.
```

#### function expression
- identifier can be emitted  
- end with a semi-colon since they are stored in a variable.
- **arrow function syntax** is a shorter syntax for a function expression


```js
// function expression
const square = function (number) {
  return number * number;
};

console.log(square(5));
// Output: 25.


// arrow function
const square = (number) => {
  return number * number;
};

console.log(square(5));
// Output: 25.

```

### Arrow function refactor

**1.remove parentheses**  
- single parameter function can emit parentheses  
- parentheses are required for **zero** or **multiple** parameters  

**2.implicit return**  
- sole single-line block is automatically returned, `return` keyword not needed  
- contents of the block should immediately follow the arrow `=>`  

**3.remove bracket**  
- sole single-line block does not need brackets  

Example:

```js

const multiplyByNineFifths = (celsius) => {
  return celsius * (9/5);
};

const getFahrenheit = (celsius) => {
  return multiplyByNineFifths(celsius) + 32;
};

console.log('The temperature is ' + getFahrenheit(15) + '°F');
```

can be refactored to:  

```js
const multiplyByNineFifths = celsius => celsius * (9/5);

const getFahrenheit = celsius => multiplyByNineFifths(celsius) + 32;

console.log('The temperature is ' + getFahrenheit(15) + '°F');
```

### Review Functions
This unit introduced you to functions.

- Functions are written to perform a task.  
- Functions take data, perform a set of tasks on the data, and then return the result.  
- We can define parameters to be used when calling the function.  
- When calling a function, we can pass in arguments, which will set the function's parameters.  
- We can use return to return the result of a function which allows us to call functions anywhere, even inside other functions.  


## <center> Scope </center>


### Block Scope II

```js
const colorOfSky = () => {
  const dusk = true;
  let color = 'blue'; 
  if (dusk) {
    let color = 'pink';
    console.log(color); // pink
  }
  console.log(color); // blue 
};

colorOfSky(); // blue
console.log(color); // undefined
```


## <center> Array </center>
- `push()` add to end of an array  
- `pop()` remove from end of an array  
- `shift()` remove first element from the array  
- `unshift()` add to first element  
- `slice(i, j)` return portion of list  

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array


### const vs let for array
- const array is **mutable**, but can **NOT** be reassigned  


```js
let condiments = ['Ketchup', 'Mustard', 'Soy Sauce', 'Sriracha'];
const utensils = ['Fork', 'Knife', 'Chopsticks', 'Spork'];

condiments.push('syracha');
console.log(condiments);

condiments = ['Wasabi'];
console.log(condiments);

utensils.pop();
console.log(utensils);

utensils = ['fork']; // error
```

## <center> Loop </center>

while loop and for loop


## <center> Iterators </center>

```js
let groceries = ['whole wheat flour', 'brown sugar', 'salt', 'cranberries', 'walnuts']; 

groceries.forEach(function(groceryItem) {
  console.log(' - ' + groceryItem);
});
```

We can simplify this code using arrow function syntax.

```js
groceries.forEach(groceryItem => console.log(' - ' + groceryItem));
```

### forEach() method
- iterate through array wo/ modifying original  
- `forEach()` pass each element within array into function's argument  
- `forEach()` not change original array  
- `forEach()` returns `undefined`  


```js
let fruits = ['mango', 'papaya', 'pineapple', 'apple'];

// Iterate over fruits below
fruits.forEach(function(fruit) { // no need function name???
  console.log('I want to eat a ' + fruit);
});


let fruits = ['mango', 'papaya', 'pineapple', 'apple'];

// refactored arrow form
fruits.forEach(fruit => console.log('I want to eat a ' + fruit));

```
### map() method
- iterate through original array, return a new one based on original  
- `map()` returns **new** array, value compute within function code block  

example:

```js
let numbers = [1, 2, 3, 4, 5]; 

let bigNumbers = numbers.map(function(number) {
  return number * 10;
});

// refactored arrow function syntax
let numbers = [1, 2, 3, 4, 5]; 
let bigNumbers = numbers.map(numbers => numbers * 10);

```
### filter() method
- returns certain elements from the original array that evaluate to truthy based on conditions defined in function block  

example:

```js
let words = ['chair', 'music', 'pillow', 'brick', 'pen', 'door']; 

let shortWords = words.filter(function(word) {
  return word.length < 6;
});

// refactored arrow form
let shortWords = words.filter(word => word.length < 6);

```

### others
Additional iterator methods such as `.some()`, .`every()`, .`reduce()` perform different functions.

list of iterator methods for array:  
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array#Iteration_methods

## <center> Objects </center>

JavaScript **object** (create via curly braces: `{}`) stores  
- **Data**: key-value pair  
- **Function**:  

### Accessing Object Properties
- dot `.` notation  
- bracket `[]` bracket notation  

example:

```js

let person = {
  name : 'xuyi',
  age : 123
};

// dot notation
console.log(person.name);
console.log(person.age);

// brackets notation
console.log(person['name']);
console.log(person['age']);
```

### Add/Edit a Property

```java
let person = {
  name: 'Tyron',
  age: 40,
  weekendAlarm: 'No alarms needed',
  weekAlarm: 'Alarm set to 7AM'
};

console.log(person['name']);
console.log(person['age']);

let day = 'Tuesday';
let alarm;

if (day === 'Saturday' || day === 'Sunday' ) {
  alarm = 'weekendAlarm';
} else {
  alarm = 'weekAlarm';
}

console.log(person[alarm]);

person.hobbies = ['sleep', 'eat'];
console.log(person.hobbies);

person.hobbies = ['sleep'];
console.log(person.hobbies);

```

### Method
- method: key-function pairs in object  


```js
let person = {
  name: 'Tyron',
  age: 40,
  weekendAlarm: 'No alarms needed',
  weekAlarm: 'Alarm set to 7AM',
  // arrow form method
  sayHello: () => {
    return 'Hello, there!';
  }
};
```
### ES6 Method
- remove `:` and `=>` for function in object  

```js
let person = {
  name: 'Tyron',
  age: 40,
  weekendAlarm: 'No alarms needed',
  weekAlarm: 'Alarm set to 7AM',
  // arrow form method
  sayHello() {
    return 'Hello, there!';
  }
};
```

## callback function  

ref: http://javascriptissexy.com/understand-javascript-callback-functions-and-use-them/


```js
//Global variable​
​var generalLastName = "Clinton";
​
​function getInput (options, callback) {
    allUserData.push (options);
​	// Pass the global variable generalLastName to the callback function​
    callback (generalLastName, options); // callback function was called with `()`
}
```

- pass function as an **object** as **argument** into a function  
- callback function has **global** access to all variables  
- a function will only be **executed** when explicitly called with `()` symbol  

```js
 // global variable​
​var allUserData = [];
​
​// generic logStuff function that prints to console​
​function logStuff (userData) {
    if ( typeof userData === "string")
    {
        console.log(userData);
    }
    else if ( typeof userData === "object")
    {
        for (var item in userData) {
            console.log(item + ": " + userData[item]);
        }
​
    }
​
}
​
​// A function that takes two parameters, the last one a callback function​
​function getInput (options, callback) {
    allUserData.push (options);
    callback (options);
​
}
​
getInput ({name:"Rich", speciality:"JavaScript"}, logStuff);

```

- `logStuff` and `getInput` are function declaration, it wont be executed until get call via `()` or pass as **callback** function.  


**Make Sure Callback is a Function Before Executing It**  

```js
function getInput(options, callback) {
    allUserData.push(options);
​
    // Make sure the callback is a function​
    if (typeof callback === "function") {
    // Call it, since we have confirmed it is callable​
        callback(options);
    }
}
```



